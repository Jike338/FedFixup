#!/bin/bash

#SBATCH --account=kpsounis_171
#SBATCH --partition=main
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=1
#SBATCH --mem=64G
#SBATCH --time=20:00:00
#SBATCH --partition=gpu
#SBATCH --gpus-per-task=a100:2
#SBATCH --output=slurm_out/%x_%j.out


module load python
module spider cuda

cd /scratch1/jikezhon/FedFixup
source ~/miniconda3/bin/activate fl

# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_shards_delay0 > study_best_freeze/resnet18_bn_step100_tiny_shards_delay0.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_shards_delay_half > study_best_freeze/resnet18_bn_step100_tiny_shards_delay_half.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 300 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_shards_delay_300 > study_best_freeze/resnet18_bn_step100_tiny_shards_delay_300.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 900 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_shards_delay_900 > study_best_freeze/resnet18_bn_step100_tiny_shards_delay_900.txt

# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3200 --id study_best_freeze/tensorboard/resnet18_bn_step20_tiny_shards_delay_half > study_best_freeze/resnet18_bn_step20_tiny_shards_delay_half.txt

# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_dir0.6_delay0 > study_best_freeze/resnet18_bn_step100_tiny_dir0.6_delay0.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id study_best_freeze/tensorboard/resnet18_bn_step100_tiny_dir0.6_delay_half > study_best_freeze/resnet18_bn_step100_tiny_dir0.6_delay_half.txt



# python3 main_fl_clean_lr_combine_bn.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0  --id study_best_freeze/tensorboard/shards_bs20_100_delay_half_combine_10user_1tenth > study_best_freeze/shards_bs20_100_delay_half_combine_10user_1tenth.txt

# python3 main_fl_clean_lr_combine_bn.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0  --id study_best_freeze/tensorboard/shards_bs20_100_delay_half_combine_testfirstdrop96ep_1tenth > study_best_freeze/shards_bs20_100_delay_half_combine_testfirstdrop96ep_1tenth.txt


# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 640 --freeze_bn_at_round 320 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay_freq20_shards_2 > cifar100_output/5clients_delay_freq20_shards_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 640 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay0_freq20_shards_2 > cifar100_output/5clients_delay0_freq20_shards_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 640 --freeze_bn_at_round 50 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay50_freq20_shards_2 > cifar100_output/5clients_delay50_freq20_shards_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 640 --freeze_bn_at_round 500 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay500_freq20_shards_2 > cifar100_output/5clients_delay500_freq20_shards_2.txt

# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 640 --freeze_bn_at_round 320 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay_freq20_a01_2 > cifar100_output/5clients_delay_freq20_a01_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 640 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay0_freq20_a01_2 > cifar100_output/5clients_delay0_freq20_a01_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 640 --freeze_bn_at_round 50 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay50_freq20_a01_2 > cifar100_output/5clients_delay50_freq20_a01_2.txt
# python3 main_fl_clean_lr2.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 640 --freeze_bn_at_round 500 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id cifar100_output/tensorboard/5clients_delay500_freq20_a01_2 > cifar100_output/5clients_delay500_freq20_a01_2.txt




# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@0 > confirm_tiny/resnet18_bn_step20_delay@0.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 100 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@100 > confirm_tiny/resnet18_bn_step20_delay@100.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@500 > confirm_tiny/resnet18_bn_step20_delay@500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1000 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@1000 > confirm_tiny/resnet18_bn_step20_delay@1000.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@1500 > confirm_tiny/resnet18_bn_step20_delay@1500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 2000 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@2000 > confirm_tiny/resnet18_bn_step20_delay@2000.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 2500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@2500 > confirm_tiny/resnet18_bn_step20_delay@2500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3000 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@3000 > confirm_tiny/resnet18_bn_step20_delay@3000.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@3500 > confirm_tiny/resnet18_bn_step20_delay@3500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 4000 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@4000 > confirm_tiny/resnet18_bn_step20_delay@4000.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 4500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@4500 > confirm_tiny/resnet18_bn_step20_delay@4500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 5000 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@5000 > confirm_tiny/resnet18_bn_step20_delay@5000.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 6400 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 5500 --id confirm_tiny/tensorboard/resnet18_bn_step20_delay@5500 > confirm_tiny/resnet18_bn_step20_delay@5500.txt

# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@0 > confirm_tiny/resnet18_bn_step100_delay@0.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 50 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@50 > confirm_tiny/resnet18_bn_step100_delay@50.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 100 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@100 > confirm_tiny/resnet18_bn_step100_delay@100.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 150 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@150 > confirm_tiny/resnet18_bn_step100_delay@150.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 200 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@200 > confirm_tiny/resnet18_bn_step100_delay@200.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 250 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@250 > confirm_tiny/resnet18_bn_step100_delay@250.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 300 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@300 > confirm_tiny/resnet18_bn_step100_delay@300.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 350 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@350 > confirm_tiny/resnet18_bn_step100_delay@350.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 400 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@400 > confirm_tiny/resnet18_bn_step100_delay@400.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 450 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@450 > confirm_tiny/resnet18_bn_step100_delay@450.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 500 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@500 > confirm_tiny/resnet18_bn_step100_delay@500.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 550 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@550 > confirm_tiny/resnet18_bn_step100_delay@550.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 600 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@600 > confirm_tiny/resnet18_bn_step100_delay@600.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 650 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@650 > confirm_tiny/resnet18_bn_step100_delay@650.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 700 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@700 > confirm_tiny/resnet18_bn_step100_delay@700.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 750 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@750 > confirm_tiny/resnet18_bn_step100_delay@750.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 800 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@800 > confirm_tiny/resnet18_bn_step100_delay@800.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 850 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@850 > confirm_tiny/resnet18_bn_step100_delay@850.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 900 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@900 > confirm_tiny/resnet18_bn_step100_delay@900.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 950 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@950 > confirm_tiny/resnet18_bn_step100_delay@950.txt
# python3 main_fl_clean_lr2.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1000 --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@1000 > confirm_tiny/resnet18_bn_step100_delay@1000.txt



# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 350 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay350 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay350.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 350 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_delay350 > study_best_freeze/shards_bs20_100_delay350.txt




# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay0 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay0.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 1 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay1 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay1.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 50 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay50 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay50.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 100 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay100 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay100.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay200 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay200.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 300 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay300 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay300.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 400 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay400 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay400.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 500 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay500 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay500.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 600 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay600 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay600.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 700 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay700 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay700.txt

# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay0 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay0.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 1 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay1 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay1.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 50 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay50 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay50.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 100 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay100 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay100.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay200 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay200.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 300 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay300 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay300.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 400 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay400 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay400.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 500 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay500 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay500.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 600 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay600 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay600.txt
# python3 main_fl_clean_lr2.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 700 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_testfirstdrop96ep_delay700 > study_best_freeze/shards_bs20_100_testfirstdrop96ep_delay700.txt

# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay0 > study_best_freeze/shards_bs20_100_test_lenet_delay0.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 1 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay1 > study_best_freeze/shards_bs20_100_test_lenet_delay1.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 50 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay50 > study_best_freeze/shards_bs20_100_test_lenet_delay50.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 100 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay100 > study_best_freeze/shards_bs20_100_test_lenet_delay100.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay200 > study_best_freeze/shards_bs20_100_test_lenet_delay200.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 300 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay300 > study_best_freeze/shards_bs20_100_test_lenet_delay300.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 400 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay400 > study_best_freeze/shards_bs20_100_test_lenet_delay400.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 500 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay500 > study_best_freeze/shards_bs20_100_test_lenet_delay500.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 600 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay600 > study_best_freeze/shards_bs20_100_test_lenet_delay600.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --freeze_bn_at_round 700 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_best_freeze/tensorboard/shards_bs20_100_test_lenet_delay700 > study_best_freeze/shards_bs20_100_test_lenet_delay700.txt


# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 2000 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 0 --save_model --id save_model/tensorboard/resnet18_shards_step100_bs20_no_delay_tiny > save_model/resnet18_shards_step100_bs20_no_delay_tiny.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1000 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --save_model --id save_model/tensorboard/resnet18_shards_step100_bs20_no_delay_cifar > save_model/resnet18_shards_step100_bs20_no_delay_cifar.txt
# python3 main_fl_clean.py --dataset cifar10 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1000 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --save_model --id save_model/tensorboard/lenet_shards_step100_bs20_no_delay_cifar > save_model/lenet_shards_step100_bs20_no_delay_cifar.txt
# python3 main_fl_clean.py --dataset cifar100 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1000 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --save_model --id save_model/tensorboard/resnet18_shards_step100_bs20_no_delay_cifar100 > save_model/resnet18_shards_step100_bs20_no_delay_cifar100.txt
# python3 main_fl_clean.py --dataset cifar100 -a lenet --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1000 --freeze_bn_at_round 0 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --save_model --id save_model/tensorboard/lenet_shards_step100_bs20_no_delay_cifar100 > save_model/lenet_shards_step100_bs20_no_delay_cifar100.txt


# pretrain_path=/fs/ess/scratch/PAS2099/jike/DelayBN/save_model/models/resnet18_shards_step100_bs20_no_delay_tiny_checkpoint_r900.pth.tar


# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 800 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@800 > confirm_tiny/resnet18_bn_step100_delay@800.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 850 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@850 > confirm_tiny/resnet18_bn_step100_delay@850.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 900 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@900 > confirm_tiny/resnet18_bn_step100_delay@900.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 950 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@950 > confirm_tiny/resnet18_bn_step100_delay@950.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1000 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@1000 > confirm_tiny/resnet18_bn_step100_delay@1000.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1100 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@1100 > confirm_tiny/resnet18_bn_step100_delay@1100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1200 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@1200 > confirm_tiny/resnet18_bn_step100_delay@1200.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 1500 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 1300 --start_round 800 --pretrained $pretrain_path --id confirm_tiny/tensorboard/resnet18_bn_step100_delay@1300 > confirm_tiny/resnet18_bn_step100_delay@1300.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs20 > study_BN_estimation/step1_bs20.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 2  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step2_bs20 > study_BN_estimation/step2_bs20.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 50 --frac 0.5 --method step --alpha 0 --rounds 25600 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs50 > study_BN_estimation/step1_bs50.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 100 --frac 0.5 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs100 > study_BN_estimation/step1_bs100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 500 --frac 0.5 --method step --alpha 0 --rounds 2560 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs500 > study_BN_estimation/step1_bs500.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 1000 --frac 0.5 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs1000 > study_BN_estimation/step1_bs1000.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 1  -b 2000 --frac 0.5 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id study_BN_estimation/tensorboard/step1_bs2000 > study_BN_estimation/step1_bs2000.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step1 > rerun/step1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 0.5 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step2 > rerun/step2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 0.5 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step5 > rerun/step5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step10 > rerun/step10.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 15  -b 20 --frac 0.5 --method step --alpha 0 --rounds 4267 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step15 > rerun/step15.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step20 > rerun/step20.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 40  -b 20 --frac 0.5 --method step --alpha 0 --rounds 1600 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step40 > rerun/step40.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 60  -b 20 --frac 0.5 --method step --alpha 0 --rounds 1067 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step60 > rerun/step60.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 80  -b 20 --frac 0.5 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step80 > rerun/step80.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step100 > rerun/step100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 200  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step200 > rerun/step200.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 300  -b 20 --frac 0.5 --method step --alpha 0 --rounds 214 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step300 > rerun/step300.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 400  -b 20 --frac 0.5 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step400 > rerun/step400.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step500 > rerun/step500.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1000  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step1000 > rerun/step1000.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/step2500 > rerun/step2500.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step1 > rerun/5users_frac1_step1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step2 > rerun/5users_frac1_step2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step5 > rerun/5users_frac1_step5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step10 > rerun/5users_frac1_step10.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 15  -b 20 --frac 1 --method step --alpha 0 --rounds 4267 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step15 > rerun/5users_frac1_step15.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step20 > rerun/5users_frac1_step20.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 40  -b 20 --frac 1 --method step --alpha 0 --rounds 1600 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step40 > rerun/5users_frac1_step40.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 60  -b 20 --frac 1 --method step --alpha 0 --rounds 1067 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step60 > rerun/5users_frac1_step60.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 80  -b 20 --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step80 > rerun/5users_frac1_step80.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step100 > rerun/5users_frac1_step100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 200  -b 20 --frac 1 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step200 > rerun/5users_frac1_step200.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 300  -b 20 --frac 1 --method step --alpha 0 --rounds 214 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step300 > rerun/5users_frac1_step300.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 400  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step400 > rerun/5users_frac1_step400.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step500 > rerun/5users_frac1_step500.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1000  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step1000 > rerun/5users_frac1_step1000.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun/tensorboard/5users_frac1_step2500 > rerun/5users_frac1_step2500.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step1 > rerun/lr0.002_step1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 0.5 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step2 > rerun/lr0.002_step2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step10 > rerun/lr0.002_step10.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step20 > rerun/lr0.002_step20.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 60  -b 20 --frac 0.5 --method step --alpha 0 --rounds 1067 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step60 > rerun/lr0.002_step60.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step100 > rerun/lr0.002_step100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 200  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step200 > rerun/lr0.002_step200.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step500 > rerun/lr0.002_step500.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1000  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step1000 > rerun/lr0.002_step1000.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.002 --num_users 10 --norm_layer BatchNorm --id rerun/tensorboard/lr0.002_step2500 > rerun/lr0.002_step2500.txt


#1, 20, 100, 500, 2500
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_1_shards > rerun1/BN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_20_shards > rerun1/BN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_100_shards > rerun1/BN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_500_shards > rerun1/BN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_2500_shards > rerun1/BN_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_1_shards > rerun1/GN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_20_shards > rerun1/GN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_100_shards > rerun1/GN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_500_shards > rerun1/GN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_2500_shards > rerun1/GN_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_1_dir01 > rerun1/BN_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_20_dir01 > rerun1/BN_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_100_dir01 > rerun1/BN_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_500_dir01 > rerun1/BN_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_2500_dir01 > rerun1/BN_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_1_dir01 > rerun1/GN_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_20_dir01 > rerun1/GN_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_100_dir01 > rerun1/GN_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_500_dir01 > rerun1/GN_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_2500_dir01 > rerun1/GN_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_1_dir03 > rerun1/BN_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_20_dir03 > rerun1/BN_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_100_dir03 > rerun1/BN_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_500_dir03 > rerun1/BN_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_2500_dir03 > rerun1/BN_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_1_dir03 > rerun1/GN_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_20_dir03 > rerun1/GN_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_100_dir03 > rerun1/GN_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_500_dir03 > rerun1/GN_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_2500_dir03 > rerun1/GN_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_1_dir06 > rerun1/GN_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_20_dir06 > rerun1/GN_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_100_dir06 > rerun1/GN_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_500_dir06 > rerun1/GN_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_2500_dir06 > rerun1/GN_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_1_dir06 > rerun1/BN_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_20_dir06 > rerun1/BN_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_100_dir06 > rerun1/BN_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_500_dir06 > rerun1/BN_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_2500_dir06 > rerun1/BN_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_1_dir100 > rerun1/BN_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_20_dir100 > rerun1/BN_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_100_dir100 > rerun1/BN_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_500_dir100 > rerun1/BN_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_step_2500_dir100 > rerun1/BN_step_2500_dir100.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_1_dir100 > rerun1/GN_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_20_dir100 > rerun1/GN_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_100_dir100 > rerun1/GN_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_500_dir100 > rerun1/GN_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_step_2500_dir100 > rerun1/GN_step_2500_dir100.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_1_shards > rerun1/None_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_20_shards > rerun1/None_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_100_shards > rerun1/None_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_500_shards > rerun1/None_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_2500_shards > rerun1/None_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_1_dir01 > rerun1/None_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_20_dir01 > rerun1/None_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_100_dir01 > rerun1/None_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_500_dir01 > rerun1/None_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_2500_dir01 > rerun1/None_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_1_dir03 > rerun1/None_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_20_dir03 > rerun1/None_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_100_dir03 > rerun1/None_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_500_dir03 > rerun1/None_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_2500_dir03 > rerun1/None_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_1_dir06 > rerun1/None_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_20_dir06 > rerun1/None_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_100_dir06 > rerun1/None_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_500_dir06 > rerun1/None_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_2500_dir06 > rerun1/None_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_1_dir100 > rerun1/None_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_20_dir100 > rerun1/None_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_100_dir100 > rerun1/None_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_500_dir100 > rerun1/None_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_step_2500_dir100 > rerun1/None_step_2500_dir100.txt



#delay BN

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_1_shards > rerun1/DelayBN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_20_shards > rerun1/DelayBN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_100_shards > rerun1/DelayBN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_500_shards > rerun1/DelayBN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_2500_shards_3 > rerun1/DelayBN_step_2500_shards_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_1_dir01 > rerun1/DelayBN_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_20_dir01_3 > rerun1/DelayBN_step_20_dir01_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_100_dir01 > rerun1/DelayBN_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_500_dir01 > rerun1/DelayBN_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_2500_dir01_3 > rerun1/DelayBN_step_2500_dir01_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_1_dir03 > rerun1/DelayBN_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_20_dir03 > rerun1/DelayBN_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_100_dir03 > rerun1/DelayBN_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_500_dir03 > rerun1/DelayBN_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_2500_dir03_3 > rerun1/DelayBN_step_2500_dir03_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_1_dir06 > rerun1/DelayBN_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_20_dir06 > rerun1/DelayBN_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_100_dir06 > rerun1/DelayBN_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_500_dir06 > rerun1/DelayBN_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_2500_dir06_3 > rerun1/DelayBN_step_2500_dir06_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_1_dir100 > rerun1/DelayBN_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_20_dir100 > rerun1/DelayBN_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_100_dir100 > rerun1/DelayBN_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_500_dir100 > rerun1/DelayBN_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_step_2500_dir100_3 > rerun1/DelayBN_step_2500_dir100_3.txt


#fix up warmup & delay

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_1_shards > rerun1/Fixup_Warmup_DelayBN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_20_shards > rerun1/Fixup_Warmup_DelayBN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_100_shards > rerun1/Fixup_Warmup_DelayBN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_500_shards > rerun1/Fixup_Warmup_DelayBN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_2500_shards > rerun1/Fixup_Warmup_DelayBN_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_1_dir01 > rerun1/Fixup_Warmup_DelayBN_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_20_dir01 > rerun1/Fixup_Warmup_DelayBN_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_100_dir01 > rerun1/Fixup_Warmup_DelayBN_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_500_dir01 > rerun1/Fixup_Warmup_DelayBN_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_2500_dir01 > rerun1/Fixup_Warmup_DelayBN_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_1_dir03 > rerun1/Fixup_Warmup_DelayBN_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_20_dir03 > rerun1/Fixup_Warmup_DelayBN_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_100_dir03 > rerun1/Fixup_Warmup_DelayBN_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_500_dir03 > rerun1/Fixup_Warmup_DelayBN_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_2500_dir03 > rerun1/Fixup_Warmup_DelayBN_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_1_dir06 > rerun1/Fixup_Warmup_DelayBN_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_20_dir06 > rerun1/Fixup_Warmup_DelayBN_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_100_dir06 > rerun1/Fixup_Warmup_DelayBN_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_500_dir06 > rerun1/Fixup_Warmup_DelayBN_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_2500_dir06 > rerun1/Fixup_Warmup_DelayBN_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_1_dir100 > rerun1/Fixup_Warmup_DelayBN_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_20_dir100 > rerun1/Fixup_Warmup_DelayBN_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_100_dir100 > rerun1/Fixup_Warmup_DelayBN_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_500_dir100 > rerun1/Fixup_Warmup_DelayBN_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_step_2500_dir100 > rerun1/Fixup_Warmup_DelayBN_step_2500_dir100.txt

#fix up warmup & no delay
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_1_shards > rerun1/Fixup_Warmup_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_20_shards > rerun1/Fixup_Warmup_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_100_shards > rerun1/Fixup_Warmup_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_500_shards > rerun1/Fixup_Warmup_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_2500_shards > rerun1/Fixup_Warmup_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_1_dir01 > rerun1/Fixup_Warmup_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_20_dir01 > rerun1/Fixup_Warmup_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_100_dir01 > rerun1/Fixup_Warmup_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_500_dir01 > rerun1/Fixup_Warmup_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_2500_dir01 > rerun1/Fixup_Warmup_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_1_dir03 > rerun1/Fixup_Warmup_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_20_dir03 > rerun1/Fixup_Warmup_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_100_dir03 > rerun1/Fixup_Warmup_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_500_dir03 > rerun1/Fixup_Warmup_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_2500_dir03 > rerun1/Fixup_Warmup_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_1_dir06 > rerun1/Fixup_Warmup_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_20_dir06 > rerun1/Fixup_Warmup_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_100_dir06 > rerun1/Fixup_Warmup_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_500_dir06 > rerun1/Fixup_Warmup_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_2500_dir06 > rerun1/Fixup_Warmup_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_1_dir100 > rerun1/Fixup_Warmup_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_20_dir100 > rerun1/Fixup_Warmup_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_100_dir100 > rerun1/Fixup_Warmup_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_500_dir100 > rerun1/Fixup_Warmup_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_step_2500_dir100 > rerun1/Fixup_Warmup_step_2500_dir100.txt


#LN

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_1_shards > rerun1/LN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_20_shards > rerun1/LN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_100_shards > rerun1/LN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_500_shards > rerun1/LN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_2500_shards > rerun1/LN_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_1_dir01 > rerun1/LN_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_20_dir01 > rerun1/LN_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_100_dir01 > rerun1/LN_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_500_dir01 > rerun1/LN_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_2500_dir01 > rerun1/LN_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_1_dir03 > rerun1/LN_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_20_dir03 > rerun1/LN_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_100_dir03 > rerun1/LN_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_500_dir03 > rerun1/LN_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_2500_dir03 > rerun1/LN_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_1_dir06 > rerun1/LN_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_20_dir06 > rerun1/LN_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_100_dir06 > rerun1/LN_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_500_dir06 > rerun1/LN_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_2500_dir06 > rerun1/LN_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_1_dir100 > rerun1/LN_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_20_dir100 > rerun1/LN_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_100_dir100 > rerun1/LN_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_500_dir100 > rerun1/LN_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_step_2500_dir100 > rerun1/LN_step_2500_dir100.txt


#IN
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_1_shards > rerun1/InstanceNorm_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_20_shards > rerun1/InstanceNorm_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_100_shards > rerun1/InstanceNorm_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_500_shards > rerun1/InstanceNorm_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_2500_shards > rerun1/InstanceNorm_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_1_dir01 > rerun1/InstanceNorm_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_20_dir01 > rerun1/InstanceNorm_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_100_dir01 > rerun1/InstanceNorm_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_500_dir01 > rerun1/InstanceNorm_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_2500_dir01 > rerun1/InstanceNorm_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_1_dir03 > rerun1/InstanceNorm_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_20_dir03 > rerun1/InstanceNorm_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_100_dir03 > rerun1/InstanceNorm_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_500_dir03 > rerun1/InstanceNorm_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_2500_dir03 > rerun1/InstanceNorm_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_1_dir06 > rerun1/InstanceNorm_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_20_dir06 > rerun1/InstanceNorm_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_100_dir06 > rerun1/InstanceNorm_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_500_dir06 > rerun1/InstanceNorm_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_2500_dir06 > rerun1/InstanceNorm_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_1_dir100 > rerun1/InstanceNorm_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_20_dir100 > rerun1/InstanceNorm_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_100_dir100 > rerun1/InstanceNorm_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_500_dir100 > rerun1/InstanceNorm_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_step_2500_dir100 > rerun1/InstanceNorm_step_2500_dir100.txt


# #baseline
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 0 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --save_model --id study_bn_estimation_new2/tensorboard/step20_baseline > study_bn_estimation_new2/step20_baseline.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 0 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --save_model --id study_bn_estimation_new2/tensorboard/step100_baseline > study_bn_estimation_new2/step100_baseline.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --bn_step 0 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --save_model --id study_bn_estimation_new2/tensorboard/step500_baseline > study_bn_estimation_new2/step500_baseline.txt

# #step 20
# #before w/ mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_mem_bnstep5 > study_bn_estimation_new2/step20_before_mem_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_mem_bnstep20 > study_bn_estimation_new2/step20_before_mem_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_mem_bnstep100 > study_bn_estimation_new2/step20_before_mem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_mem_bnstep500 > study_bn_estimation_new2/step20_before_mem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_mem_bnstep2500 > study_bn_estimation_new2/step20_before_mem_bnstep2500.txt

# #before w/o mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_bnstep5 > study_bn_estimation_new2/step20_before_nomem_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_bnstep20 > study_bn_estimation_new2/step20_before_nomem_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_bnstep100 > study_bn_estimation_new2/step20_before_nomem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_bnstep500 > study_bn_estimation_new2/step20_before_nomem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_bnstep2500 > study_bn_estimation_new2/step20_before_nomem_bnstep2500.txt

# #after w/o mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_bnstep5 > study_bn_estimation_new2/step20_after_nomem_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_bnstep20 > study_bn_estimation_new2/step20_after_nomem_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_bnstep100 > study_bn_estimation_new2/step20_after_nomem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_bnstep500 > study_bn_estimation_new2/step20_after_nomem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_bnstep2500 > study_bn_estimation_new2/step20_after_nomem_bnstep2500.txt

# #after w mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_mem_bnstep5 > study_bn_estimation_new2/step20_after_mem_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_mem_bnstep20 > study_bn_estimation_new2/step20_after_mem_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_mem_bnstep100 > study_bn_estimation_new2/step20_after_mem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_mem_bnstep500 > study_bn_estimation_new2/step20_after_mem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_mem_bnstep2500 > study_bn_estimation_new2/step20_after_mem_bnstep2500.txt

# #step 100
# #before w/ mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_mem_bnstep100 > study_bn_estimation_new2/step100_before_mem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_mem_bnstep500 > study_bn_estimation_new2/step100_before_mem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_mem_bnstep2500 > study_bn_estimation_new2/step100_before_mem_bnstep2500.txt

# #before w/o mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 100 --update_bn_before --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_nomem_bnstep100 > study_bn_estimation_new2/step100_before_nomem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_nomem_bnstep500 > study_bn_estimation_new2/step100_before_nomem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 2500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_nomem_bnstep2500 > study_bn_estimation_new2/step100_before_nomem_bnstep2500.txt

# #after w/o mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 100 --update_bn_after --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_nomem_bnstep100 > study_bn_estimation_new2/step100_after_nomem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_nomem_bnstep500 > study_bn_estimation_new2/step100_after_nomem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 2500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_nomem_bnstep2500 > study_bn_estimation_new2/step100_after_nomem_bnstep2500.txt

# #after w mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 100 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_mem_bnstep100 > study_bn_estimation_new2/step100_after_mem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_mem_bnstep500 > study_bn_estimation_new2/step100_after_mem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 2500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_mem_bnstep2500 > study_bn_estimation_new2/step100_after_mem_bnstep2500.txt


#use update_bn

# python3 main_fl_clean_estimation_2.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 1 --update_bn_before  --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_before_nomem_1ep > study_bn_estimation_new2/step20_before_nomem_1ep.txt
# python3 main_fl_clean_estimation_2.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 1 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step20_after_nomem_1ep > study_bn_estimation_new2/step20_after_nomem_1ep.txt
# python3 main_fl_clean_estimation_2.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 1 --update_bn_before  --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_before_nomem_1ep > study_bn_estimation_new2/step100_before_nomem_1ep.txt
# python3 main_fl_clean_estimation_2.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --bn_step 1 --update_bn_after --frac 1 --method step --alpha 0 --rounds 800 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step100_after_nomem_1ep > study_bn_estimation_new2/step100_after_nomem_1ep.txt








#1, 20, 100, 500, 2500
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_shards > rerun1/BN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_shards > rerun1/BN_noactivs_step_20_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_shards_2 > rerun1/BN_noactivs_step_100_shards_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_shards > rerun1/BN_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_shards > rerun1/BN_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards > rerun1/GN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_shards > rerun1/GN_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_100_shards > rerun1/GN_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_500_shards > rerun1/GN_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2500_shards > rerun1/GN_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_dir01 > rerun1/BN_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_dir01 > rerun1/BN_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_dir01 > rerun1/BN_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_dir01 > rerun1/BN_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_dir01 > rerun1/BN_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_dir01 > rerun1/GN_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_dir01 > rerun1/GN_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_100_dir01 > rerun1/GN_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_500_dir01 > rerun1/GN_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2500_dir01 > rerun1/GN_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_dir03 > rerun1/BN_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_dir03 > rerun1/BN_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_dir03 > rerun1/BN_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_dir03 > rerun1/BN_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_dir03 > rerun1/BN_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_dir03 > rerun1/GN_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_dir03 > rerun1/GN_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_100_dir03 > rerun1/GN_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_500_dir03 > rerun1/GN_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2500_dir03 > rerun1/GN_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_dir06 > rerun1/GN_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_dir06 > rerun1/GN_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_100_dir06 > rerun1/GN_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_500_dir06 > rerun1/GN_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2500_dir06 > rerun1/GN_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_dir06 > rerun1/BN_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_dir06 > rerun1/BN_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_dir06 > rerun1/BN_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_dir06 > rerun1/BN_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_dir06 > rerun1/BN_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_dir100 > rerun1/BN_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_dir100 > rerun1/BN_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_dir100 > rerun1/BN_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_dir100 > rerun1/BN_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_dir100 > rerun1/BN_noactivs_step_2500_dir100.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_dir100 > rerun1/GN_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_dir100 > rerun1/GN_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_100_dir100 > rerun1/GN_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_500_dir100 > rerun1/GN_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2500_dir100 > rerun1/GN_noactivs_step_2500_dir100.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_shards > rerun1/None_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_20_shards > rerun1/None_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_100_shards > rerun1/None_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_500_shards > rerun1/None_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_2500_shards > rerun1/None_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_dir01 > rerun1/None_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_20_dir01 > rerun1/None_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_100_dir01 > rerun1/None_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_500_dir01 > rerun1/None_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_2500_dir01 > rerun1/None_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_dir03 > rerun1/None_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_20_dir03 > rerun1/None_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_100_dir03 > rerun1/None_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_500_dir03 > rerun1/None_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_2500_dir03 > rerun1/None_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_dir06 > rerun1/None_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_20_dir06 > rerun1/None_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_100_dir06 > rerun1/None_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_500_dir06 > rerun1/None_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_2500_dir06 > rerun1/None_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_dir100 > rerun1/None_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_20_dir100 > rerun1/None_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_100_dir100 > rerun1/None_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_500_dir100 > rerun1/None_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_2500_dir100 > rerun1/None_noactivs_step_2500_dir100.txt



#delay BN

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_shards > rerun1/DelayBN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_20_shards > rerun1/DelayBN_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_100_shards > rerun1/DelayBN_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_500_shards > rerun1/DelayBN_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_2500_shards_3 > rerun1/DelayBN_noactivs_step_2500_shards_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir01 > rerun1/DelayBN_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_20_dir01_3 > rerun1/DelayBN_noactivs_step_20_dir01_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_100_dir01 > rerun1/DelayBN_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_500_dir01 > rerun1/DelayBN_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_2500_dir01_3 > rerun1/DelayBN_noactivs_step_2500_dir01_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir03 > rerun1/DelayBN_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_20_dir03 > rerun1/DelayBN_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_100_dir03 > rerun1/DelayBN_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_500_dir03 > rerun1/DelayBN_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_2500_dir03_3 > rerun1/DelayBN_noactivs_step_2500_dir03_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir06 > rerun1/DelayBN_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_20_dir06 > rerun1/DelayBN_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_100_dir06 > rerun1/DelayBN_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_500_dir06 > rerun1/DelayBN_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_2500_dir06_3 > rerun1/DelayBN_noactivs_step_2500_dir06_3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir100 > rerun1/DelayBN_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 1600 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_20_dir100 > rerun1/DelayBN_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 320 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_100_dir100 > rerun1/DelayBN_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_500_dir100 > rerun1/DelayBN_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 13 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_2500_dir100_3 > rerun1/DelayBN_noactivs_step_2500_dir100_3.txt


#fix up warmup & delay

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_1_shards > rerun1/Fixup_Warmup_DelayBN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_20_shards > rerun1/Fixup_Warmup_DelayBN_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_100_shards > rerun1/Fixup_Warmup_DelayBN_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_500_shards > rerun1/Fixup_Warmup_DelayBN_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_2500_shards > rerun1/Fixup_Warmup_DelayBN_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_1_dir01 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_20_dir01 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_100_dir01 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_500_dir01 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_2500_dir01 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_1_dir03 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_20_dir03 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_100_dir03 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_500_dir03 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_2500_dir03 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_1_dir06 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_20_dir06 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_100_dir06 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_500_dir06 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_2500_dir06 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 32000 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_1_dir100 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 1600 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_20_dir100 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 320 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_100_dir100 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_500_dir100 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --freeze_bn_at_round 64 --id rerun1/tensorboard/Fixup_Warmup_DelayBN_noactivs_step_2500_dir100 > rerun1/Fixup_Warmup_DelayBN_noactivs_step_2500_dir100.txt

#fix up warmup & no delay
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_1_shards > rerun1/Fixup_Warmup_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_20_shards > rerun1/Fixup_Warmup_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_100_shards > rerun1/Fixup_Warmup_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_500_shards > rerun1/Fixup_Warmup_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_2500_shards > rerun1/Fixup_Warmup_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_1_dir01 > rerun1/Fixup_Warmup_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_20_dir01 > rerun1/Fixup_Warmup_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_100_dir01 > rerun1/Fixup_Warmup_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_500_dir01 > rerun1/Fixup_Warmup_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_2500_dir01 > rerun1/Fixup_Warmup_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_1_dir03 > rerun1/Fixup_Warmup_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_20_dir03 > rerun1/Fixup_Warmup_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_100_dir03 > rerun1/Fixup_Warmup_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_500_dir03 > rerun1/Fixup_Warmup_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_2500_dir03 > rerun1/Fixup_Warmup_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_1_dir06 > rerun1/Fixup_Warmup_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_20_dir06 > rerun1/Fixup_Warmup_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_100_dir06 > rerun1/Fixup_Warmup_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_500_dir06 > rerun1/Fixup_Warmup_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_2500_dir06 > rerun1/Fixup_Warmup_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_1_dir100 > rerun1/Fixup_Warmup_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_20_dir100 > rerun1/Fixup_Warmup_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_100_dir100 > rerun1/Fixup_Warmup_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_500_dir100 > rerun1/Fixup_Warmup_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --fix_warmup --id rerun1/tensorboard/Fixup_Warmup_noactivs_step_2500_dir100 > rerun1/Fixup_Warmup_noactivs_step_2500_dir100.txt


#LN

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_new2 > rerun1/LN_noactivs_step_1_shards_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --log_every_round 50 --id rerun1/tensorboard/LN_noactivs_step_20_shards_new2_fastlog > rerun1/LN_noactivs_step_20_shards_new2_fastlog.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_100_shards_new2 > rerun1/LN_noactivs_step_100_shards_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_500_shards_new2 > rerun1/LN_noactivs_step_500_shards_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2500_shards_new2 > rerun1/LN_noactivs_step_2500_shards_new2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_dir01_new2 > rerun1/LN_noactivs_step_1_dir01_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --log_every_round 50 --id rerun1/tensorboard/LN_noactivs_step_20_dir01_new2_fastlog > rerun1/LN_noactivs_step_20_dir01_new2_fastlog.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_100_dir01_new2 > rerun1/LN_noactivs_step_100_dir01_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_500_dir01_new2 > rerun1/LN_noactivs_step_500_dir01_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2500_dir01_new2 > rerun1/LN_noactivs_step_2500_dir01_new2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_dir03_new2 > rerun1/LN_noactivs_step_1_dir03_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --log_every_round 50 --id rerun1/tensorboard/LN_noactivs_step_20_dir03_new2_fastlog > rerun1/LN_noactivs_step_20_dir03_new2_fastlog.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_100_dir03_new2 > rerun1/LN_noactivs_step_100_dir03_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_500_dir03_new2 > rerun1/LN_noactivs_step_500_dir03_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2500_dir03_new2 > rerun1/LN_noactivs_step_2500_dir03_new2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_dir06_new2 > rerun1/LN_noactivs_step_1_dir06_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --log_every_round 50 --id rerun1/tensorboard/LN_noactivs_step_20_dir06_new2_fastlog > rerun1/LN_noactivs_step_20_dir06_new2_fastlog.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_100_dir06_new2 > rerun1/LN_noactivs_step_100_dir06_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_500_dir06_new2 > rerun1/LN_noactivs_step_500_dir06_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2500_dir06_new2 > rerun1/LN_noactivs_step_2500_dir06_new2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_dir100_new2 > rerun1/LN_noactivs_step_1_dir100_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --log_every_round 50 --id rerun1/tensorboard/LN_noactivs_step_20_dir100_new2_fastlog > rerun1/LN_noactivs_step_20_dir100_new2_fastlog.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_100_dir100_new2 > rerun1/LN_noactivs_step_100_dir100_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_500_dir100_new2 > rerun1/LN_noactivs_step_500_dir100_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2500_dir100_new2 > rerun1/LN_noactivs_step_2500_dir100_new2.txt


#IN
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards > rerun1/InstanceNorm_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_shards > rerun1/InstanceNorm_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_shards > rerun1/InstanceNorm_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_shards > rerun1/InstanceNorm_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_shards > rerun1/InstanceNorm_noactivs_step_2500_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_dir01 > rerun1/InstanceNorm_noactivs_step_1_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_dir01 > rerun1/InstanceNorm_noactivs_step_20_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_dir01 > rerun1/InstanceNorm_noactivs_step_100_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_dir01 > rerun1/InstanceNorm_noactivs_step_500_dir01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_dir01 > rerun1/InstanceNorm_noactivs_step_2500_dir01.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_dir03 > rerun1/InstanceNorm_noactivs_step_1_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_dir03 > rerun1/InstanceNorm_noactivs_step_20_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_dir03 > rerun1/InstanceNorm_noactivs_step_100_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_dir03 > rerun1/InstanceNorm_noactivs_step_500_dir03.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_dir03 > rerun1/InstanceNorm_noactivs_step_2500_dir03.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_dir06 > rerun1/InstanceNorm_noactivs_step_1_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_dir06 > rerun1/InstanceNorm_noactivs_step_20_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_dir06 > rerun1/InstanceNorm_noactivs_step_100_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_dir06 > rerun1/InstanceNorm_noactivs_step_500_dir06.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_dir06 > rerun1/InstanceNorm_noactivs_step_2500_dir06.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_dir100 > rerun1/InstanceNorm_noactivs_step_1_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_dir100 > rerun1/InstanceNorm_noactivs_step_20_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_dir100 > rerun1/InstanceNorm_noactivs_step_100_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_dir100 > rerun1/InstanceNorm_noactivs_step_500_dir100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_dir100 > rerun1/InstanceNorm_noactivs_step_2500_dir100.txt



# #step 20
# #before w/ mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_bn_estimation_new2/tensorboard/step20_before_mem_round3_bnstep5 > study_bn_estimation_new2/step20_before_mem_round3_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_bn_estimation_new2/tensorboard/step20_before_mem_round3_bnstep20 > study_bn_estimation_new2/step20_before_mem_round3_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_bn_estimation_new2/tensorboard/step20_before_mem_round3_bnstep100 > study_bn_estimation_new2/step20_before_mem_round3_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_bn_estimation_new2/tensorboard/step20_before_mem_round3_bnstep500 > study_bn_estimation_new2/step20_before_mem_round3_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_bn_estimation_new2/tensorboard/step20_before_mem_round3_bnstep2500 > study_bn_estimation_new2/step20_before_mem_round3_bnstep2500.txt


# #after w mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_round2_bnstep5 > study_bn_estimation_new2/step20_after_mem_round2_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_round2_bnstep20 > study_bn_estimation_new2/step20_after_mem_round2_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_round2_bnstep100 > study_bn_estimation_new2/step20_after_mem_round2_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_round2_bnstep500 > study_bn_estimation_new2/step20_after_mem_round2_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_round2_bnstep2500 > study_bn_estimation_new2/step20_after_mem_round2_bnstep2500.txt




# #step 20; 10 clients
# #before w/ mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_before --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_before_mem_10users_bnstep5 > study_bn_estimation_new2/step20_before_mem_10users_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_before --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_before_mem_10users_bnstep20 > study_bn_estimation_new2/step20_before_mem_10users_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_before_mem_10users_bnstep100 > study_bn_estimation_new2/step20_before_mem_10users_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_before_mem_10users_bnstep500 > study_bn_estimation_new2/step20_before_mem_10users_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_before_mem_10users_bnstep2500 > study_bn_estimation_new2/step20_before_mem_10users_bnstep2500.txt

# #after w mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_after --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_10users_bnstep5 > study_bn_estimation_new2/step20_after_mem_10users_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_after --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_10users_bnstep20 > study_bn_estimation_new2/step20_after_mem_10users_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_after --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_10users_bnstep100 > study_bn_estimation_new2/step20_after_mem_10users_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_after --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_10users_bnstep500 > study_bn_estimation_new2/step20_after_mem_10users_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_after --update_bn_w_mem --frac 0.5 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step20_after_mem_10users_bnstep2500 > study_bn_estimation_new2/step20_after_mem_10users_bnstep2500.txt


# #step 1
# #before w/ mem
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 5 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step1_before_mem_bnstep5 > study_bn_estimation_new2/step1_before_mem_bnstep5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 20 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step1_before_mem_bnstep20 > study_bn_estimation_new2/step1_before_mem_bnstep20.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step1_before_mem_bnstep100 > study_bn_estimation_new2/step1_before_mem_bnstep100.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step1_before_mem_bnstep500 > study_bn_estimation_new2/step1_before_mem_bnstep500.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_bn_estimation_new2/tensorboard/step1_before_mem_bnstep2500 > study_bn_estimation_new2/step1_before_mem_bnstep2500.txt


#step 1 GN different lr
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr0002 > rerun1/GN_noactivs_step_1_shards_lr0002.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.005 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr0005 > rerun1/GN_noactivs_step_1_shards_lr0005.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.01 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr001 > rerun1/GN_noactivs_step_1_shards_lr001.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr002 > rerun1/GN_noactivs_step_1_shards_lr002.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr005 > rerun1/GN_noactivs_step_1_shards_lr005.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr01_new2 > rerun1/GN_noactivs_step_1_shards_lr01_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr02 > rerun1/GN_noactivs_step_1_shards_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr05 > rerun1/GN_noactivs_step_1_shards_lr05.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer BatchNorm --id test/tensorboard/test_ln > rerun1/test_ln.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2_shards_lr01 > rerun1/GN_noactivs_step_2_shards_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2_shards_lr01 > rerun1/LN_noactivs_step_2_shards_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2_shards_lr01 > rerun1/InstanceNorm_noactivs_step_2_shards_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --id rerun1/tensorboard/None__noactivs_step_2_shards_lr01 > rerun1/None__noactivs_step_2_shards_lr01.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2_shards > rerun1/BN_noactivs_step_2_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_2_shards > rerun1/GN_noactivs_step_2_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_2_shards > rerun1/LN_noactivs_step_2_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_2_shards > rerun1/InstanceNorm_noactivs_step_2_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --id rerun1/tensorboard/None__noactivs_step_2_shards > rerun1/None__noactivs_step_2_shards.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_shards_lr01 > rerun1/BN_noactivs_step_1_shards_lr01.txt






# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_20_shards_lr01_2 > rerun1/InstanceNorm_noactivs_step_20_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer InstanceNorm --log_every_round 10 --id rerun1/tensorboard/InstanceNorm_noactivs_step_100_shards_lr01_2 > rerun1/InstanceNorm_noactivs_step_100_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer InstanceNorm --log_every_round 10 --id rerun1/tensorboard/InstanceNorm_noactivs_step_500_shards_lr01_2 > rerun1/InstanceNorm_noactivs_step_500_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer InstanceNorm --log_every_round 10 --id rerun1/tensorboard/InstanceNorm_noactivs_step_2500_shards_lr01_2 > rerun1/InstanceNorm_noactivs_step_2500_shards_lr01_2.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_20_shards_lr01_2 > rerun1/LN_noactivs_step_20_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer LayerNorm --log_every_round 10 --id rerun1/tensorboard/LN_noactivs_step_100_shards_lr01_2 > rerun1/LN_noactivs_step_100_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer LayerNorm --log_every_round 10 --id rerun1/tensorboard/LN_noactivs_step_500_shards_lr01_2 > rerun1/LN_noactivs_step_500_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer LayerNorm --log_every_round 10 --id rerun1/tensorboard/LN_noactivs_step_2500_shards_lr01_2 > rerun1/LN_noactivs_step_2500_shards_lr01_2.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_20_shards_lr01_2 > rerun1/GN_noactivs_step_20_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id rerun1/tensorboard/GN_noactivs_step_100_shards_lr01_2 > rerun1/GN_noactivs_step_100_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id rerun1/tensorboard/GN_noactivs_step_500_shards_lr01_2 > rerun1/GN_noactivs_step_500_shards_lr01_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id rerun1/tensorboard/GN_noactivs_step_2500_shards_lr01_2 > rerun1/GN_noactivs_step_2500_shards_lr01_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_shards_lr01 > rerun1/DelayBN_noactivs_step_1_shards_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir01_lr01 > rerun1/DelayBN_noactivs_step_1_dir01_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir03_lr01 > rerun1/DelayBN_noactivs_step_1_dir03_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir06_lr01> rerun1/DelayBN_noactivs_step_1_dir06_lr01.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_dir100_lr01 > rerun1/DelayBN_noactivs_step_1_dir100_lr01.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 1 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr1_new2 > rerun1/GN_noactivs_step_1_shards_lr1_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr02_new2_2 > rerun1/GN_noactivs_step_1_shards_lr02_new2_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr02_new2_3 > rerun1/GN_noactivs_step_1_shards_lr02_new2_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr02_new2_4 > rerun1/GN_noactivs_step_1_shards_lr02_new2_4.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id rerun1/tensorboard/GN_noactivs_step_1_shards_lr02_new2_5 > rerun1/GN_noactivs_step_1_shards_lr02_new2_5.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards_lr02_new2 > rerun1/InstanceNorm_noactivs_step_1_shards_lr02_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards_lr02_new2_2 > rerun1/InstanceNorm_noactivs_step_1_shards_lr02_new2_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards_lr02_new2_3 > rerun1/InstanceNorm_noactivs_step_1_shards_lr02_new2_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards_lr02_new2_4 > rerun1/InstanceNorm_noactivs_step_1_shards_lr02_new2_4.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer InstanceNorm --id rerun1/tensorboard/InstanceNorm_noactivs_step_1_shards_lr02_new2_5 > rerun1/InstanceNorm_noactivs_step_1_shards_lr02_new2_5.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_lr01_new2 > rerun1/LN_noactivs_step_1_shards_lr01_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_lr02_new2_2 > rerun1/LN_noactivs_step_1_shards_lr02_new2_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_lr02_new2_3 > rerun1/LN_noactivs_step_1_shards_lr02_new2_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_lr02_new2_4 > rerun1/LN_noactivs_step_1_shards_lr02_new2_4.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer LayerNorm --id rerun1/tensorboard/LN_noactivs_step_1_shards_lr02_new2_5 > rerun1/LN_noactivs_step_1_shards_lr02_new2_5.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --freeze_bn_at_round 32000 --norm_layer BatchNorm --id rerun1/tensorboard/DelayBN_noactivs_step_1_shards_lr02_new2 > rerun1/DelayBN_noactivs_step_1_shards_lr02_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_shards_lr02_new2 > rerun1/BN_noactivs_step_1_shards_lr02_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.1 --num_users 5 --id rerun1/tensorboard/None_noactivs_step_1_shards_lr02_new2 > rerun1/None_noactivs_step_1_shards_lr02_new2.txt


# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer BatchNorm -b 100 --lr 0.1 > centralized/BN_bs100_lr01_4.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer BatchNorm -b 100 --lr 0.1 --momentum 0 > centralized/BN_bs100_lr01_nomem_2.txt

# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer GroupNorm -b 100 --lr 0.1 > centralized/GN_bs100_lr01_4.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer GroupNorm -b 100 --lr 0.1 --momentum 0 > centralized/GN_bs100_lr01_nomem_6.txt

# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer InstanceNorm -b 100 --lr 0.1 > centralized/IN_bs100_lr01_4.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer InstanceNorm -b 100 --lr 0.1 --momentum 0 > centralized/IN_bs100_lr01_nomem_test_chatgpt.txt

# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 -b 100 --lr 0.1 > centralized/Fixup_bs100_lr01_5.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 -b 100 --lr 0.1 --momentum 0 > centralized/Fixup_bs100_lr01_nomem_5.txt

# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 > centralized/LN_bs100_lr01_000.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 > centralized/LN_bs100_lr01_001.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 > centralized/LN_bs100_lr01_002.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 > centralized/LN_bs100_lr01_003.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 > centralized/LN_bs100_lr01_004.txt

# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 --momentum 0 > centralized/LN_bs100_lr01_nomem_000.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 --momentum 0 > centralized/LN_bs100_lr01_nomem_001.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 --momentum 0 > centralized/LN_bs100_lr01_nomem_002.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 --momentum 0 > centralized/LN_bs100_lr01_nomem_003.txt
# python3 main_centralized.py --dataset cifar10  -a resnet20 --print-freq 100 --norm_layer LayerNorm -b 100 --lr 0.1 --momentum 0 > centralized/LN_bs100_lr01_nomem_004.txt




# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 5 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_mem_round3_bnstep5 > study_bn_estimation_new2/step1_before_mem_round3_bnstep5.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 20 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_mem_round3_bnstep20 > study_bn_estimation_new2/step1_before_mem_round3_bnstep20.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 100 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_mem_round3_bnstep100 > study_bn_estimation_new2/step1_before_mem_round3_bnstep100.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_mem_round3_bnstep500 > study_bn_estimation_new2/step1_before_mem_round3_bnstep500.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 2500 --update_bn_before --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_mem_round3_bnstep2500 > study_bn_estimation_new2/step1_before_mem_round3_bnstep2500.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 5 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_mem_round2_bnstep5 > study_bn_estimation_new2/step1_after_mem_round2_bnstep5.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 20 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_mem_round2_bnstep20 > study_bn_estimation_new2/step1_after_mem_round2_bnstep20.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 100 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_mem_round2_bnstep100 > study_bn_estimation_new2/step1_after_mem_round2_bnstep100.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_mem_round2_bnstep500 > study_bn_estimation_new2/step1_after_mem_round2_bnstep500.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 2500 --update_bn_after --update_bn_w_mem --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_mem_round2_bnstep2500 > study_bn_estimation_new2/step1_after_mem_round2_bnstep2500.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 5 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_nomem_round3_bnstep5 > study_bn_estimation_new2/step1_before_nomem_round3_bnstep5.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 20 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_nomem_round3_bnstep20 > study_bn_estimation_new2/step1_before_nomem_round3_bnstep20.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 100 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_nomem_round3_bnstep100 > study_bn_estimation_new2/step1_before_nomem_round3_bnstep100.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_nomem_round3_bnstep500 > study_bn_estimation_new2/step1_before_nomem_round3_bnstep500.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 2500 --update_bn_before --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_before_nomem_round3_bnstep2500 > study_bn_estimation_new2/step1_before_nomem_round3_bnstep2500.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 5 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_nomem_round2_bnstep5 > study_bn_estimation_new2/step1_after_nomem_round2_bnstep5.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 20 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_nomem_round2_bnstep20 > study_bn_estimation_new2/step1_after_nomem_round2_bnstep20.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 100 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_nomem_round2_bnstep100 > study_bn_estimation_new2/step1_after_nomem_round2_bnstep100.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_nomem_round2_bnstep500 > study_bn_estimation_new2/step1_after_nomem_round2_bnstep500.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --bn_step 2500 --update_bn_after --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_bn_estimation_new2/tensorboard/step1_after_nomem_round2_bnstep2500 > study_bn_estimation_new2/step1_after_nomem_round2_bnstep2500.txt


# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_1 > study_BN_estimation/step20_before_mem_bnstep500_1.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_2 > study_BN_estimation/step20_before_mem_bnstep500_2.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_3 > study_BN_estimation/step20_before_mem_bnstep500_3.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_4 > study_BN_estimation/step20_before_mem_bnstep500_4.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_5 > study_BN_estimation/step20_before_mem_bnstep500_5.txt
# python3 main_fl_clean_estimation.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --bn_step 500 --frac 1 --method step --alpha 0 --rounds 3200  --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --update_bn_before --update_bn_w_mem --log_every_round 10 --id study_BN_estimation/tensorboard/step20_before_mem_bnstep500_6 > study_BN_estimation/step20_before_mem_bnstep500_6.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_baseline > study_BN_gradient/BN_noactivs_step_1_shards_baseline.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id study_BN_gradient/tensorboard/GN_noactivs_step_1_shards > study_BN_gradient/GN_noactivs_step_1_shards.txt

# python3 main_fl_clean_step1_w_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_keep_mom_6 > study_BN_gradient/BN_noactivs_step_1_shards_keep_mom_6.txt
# python3 main_fl_clean_step1_w_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --id study_BN_gradient/tensorboard/GN_noactivs_step_1_shards_keep_mom_2 > study_BN_gradient/GN_noactivs_step_1_shards_keep_mom_2.txt

# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --id study_BN_gradient/tensorboard/GN_noactivs_step_1_shards > study_BN_gradient/GN_noactivs_step_1_shards.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_1_shards > rerun1/BN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_20_shards > rerun1/BN_noactivs_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_100_shards > rerun1/BN_noactivs_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_500_shards > rerun1/BN_noactivs_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_2500_shards > rerun1/BN_noactivs_step_2500_shards.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id rerun1/tensorboard/BN_noactivs_step_50_shards > rerun1/BN_noactivs_step_50_shards.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 500 --id rerun1/tensorboard/BN_noactivs_step_1_shards_local_mom > rerun1/BN_noactivs_step_1_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id rerun1/tensorboard/BN_noactivs_step_50_shards_local_mom_2 > rerun1/BN_noactivs_step_50_shards_local_mom_2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id rerun1/tensorboard/BN_noactivs_step_20_shards_local_mom_2 > rerun1/BN_noactivs_step_20_shards_local_mom_2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id rerun1/tensorboard/BN_noactivs_step_100_shards_local_mom > rerun1/BN_noactivs_step_100_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id rerun1/tensorboard/BN_noactivs_step_500_shards_local_mom > rerun1/BN_noactivs_step_500_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id rerun1/tensorboard/BN_noactivs_step_2500_shards_local_mom > rerun1/BN_noactivs_step_2500_shards_local_mom.txt

# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay1 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay1.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 10000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay10000 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay10000.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 20000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay20000_2 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay20000_2.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 30000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay30000_2 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay30000_2.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 32000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay_half > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay_half.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 40000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay40000 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay40000.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 50000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay50000 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay50000.txt
# python3 main_fl_mean_step1_local_mem.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 60000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay60000 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay60000.txt


# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 500 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_with_activs_lr02 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_with_activs_lr02.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_gradient/tensorboard/BN_noactivs_step_50_shards_local_mom_with_activs_2 > study_BN_gradient/BN_noactivs_step_50_shards_local_mom_with_activs_2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_gradient/tensorboard/BN_noactivs_step_20_shards_local_mom_with_activs_2 > study_BN_gradient/BN_noactivs_step_20_shards_local_mom_with_activs_2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_gradient/tensorboard/BN_noactivs_step_100_shards_local_mom_with_activs_4 > study_BN_gradient/BN_noactivs_step_100_shards_local_mom_with_activs_4.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_gradient/tensorboard/BN_noactivs_step_500_shards_local_mom_with_activs > study_BN_gradient/BN_noactivs_step_500_shards_local_mom_with_activs.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_gradient/tensorboard/BN_noactivs_step_2500_shards_local_mom_with_activs > study_BN_gradient/BN_noactivs_step_2500_shards_local_mom_with_activs.txt
# python3 main_fl_mean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_with_activs_other_pipe_baseline > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_with_activs_other_pipe_baseline.txt











# Mom Final  - BN
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_2/tensorboard/BN_step_1_shards > study_BN_Mom_2/BN_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 40 --id study_BN_Mom_2/tensorboard/BN_step_5_shards > study_BN_Mom_2/BN_step_5_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_2/tensorboard/BN_step_20_shards > study_BN_Mom_2/BN_step_20_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_50_shards > study_BN_Mom_2/BN_step_50_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_100_shards > study_BN_Mom_2/BN_step_100_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_500_shards > study_BN_Mom_2/BN_step_500_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_2500_shards > study_BN_Mom_2/BN_step_2500_shards.txt

# Mom Final  - Delay BN
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 32000 --id study_BN_Mom_2/tensorboard/BN_step_1_shards_delay_half > study_BN_Mom_2/BN_step_1_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 40 --freeze_bn_at_round 6400 --id study_BN_Mom_2/tensorboard/BN_step_5_shards_delay_half > study_BN_Mom_2/BN_step_5_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --freeze_bn_at_round 1600 --id study_BN_Mom_2/tensorboard/BN_step_20_shards_delay_half > study_BN_Mom_2/BN_step_20_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 640 --id study_BN_Mom_2/tensorboard/BN_step_50_shards_delay_half > study_BN_Mom_2/BN_step_50_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 320 --id study_BN_Mom_2/tensorboard/BN_step_100_shards_delay_half > study_BN_Mom_2/BN_step_100_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 64 --id study_BN_Mom_2/tensorboard/BN_step_500_shards_delay_half > study_BN_Mom_2/BN_step_500_shards_delay_half.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 13 --id study_BN_Mom_2/tensorboard/BN_step_2500_shards_delay_half > study_BN_Mom_2/BN_step_2500_shards_delay_half.txt

#Mom Final - Local Mom + BN
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_2/tensorboard/BN_step_1_shards_local_mom > study_BN_Mom_2/BN_step_1_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 40 --id study_BN_Mom_2/tensorboard/BN_step_5_shards_local_mom > study_BN_Mom_2/BN_step_5_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_2/tensorboard/BN_step_20_shards_local_mom > study_BN_Mom_2/BN_step_20_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_50_shards_local_mom > study_BN_Mom_2/BN_step_50_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_100_shards_local_mom > study_BN_Mom_2/BN_step_100_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_500_shards_local_mom > study_BN_Mom_2/BN_step_500_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_2500_shards_local_mom > study_BN_Mom_2/BN_step_2500_shards_local_mom.txt

#Mom Final - Local Mom + Delay BN
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 32000 --id study_BN_Mom_2/tensorboard/BN_step_1_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_1_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 40 --freeze_bn_at_round 6400 --id study_BN_Mom_2/tensorboard/BN_step_5_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_5_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --freeze_bn_at_round 1600 --id study_BN_Mom_2/tensorboard/BN_step_20_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_20_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 640 --id study_BN_Mom_2/tensorboard/BN_step_50_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_50_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 320 --id study_BN_Mom_2/tensorboard/BN_step_100_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_100_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 64 --id study_BN_Mom_2/tensorboard/BN_step_500_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_500_shards_local_mom_delay_half.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --freeze_bn_at_round 13 --id study_BN_Mom_2/tensorboard/BN_step_2500_shards_local_mom_delay_half > study_BN_Mom_2/BN_step_2500_shards_local_mom_delay_half.txt

#Mom Final - GN
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 40 --id study_BN_Mom_2/tensorboard/GN_step_5_shards > study_BN_Mom_2/GN_step_5_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_50_shards > study_BN_Mom_2/GN_step_50_shards.txt

#Mom Final - Fixup
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --log_every_round 40 --id study_BN_Mom_2/tensorboard/Fixup_step_5_shards > study_BN_Mom_2/Fixup_step_5_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --log_every_round 5 --id study_BN_Mom_2/tensorboard/Fixup_step_50_shards > study_BN_Mom_2/Fixup_step_50_shards.txt

#Mom Final - Local Mom + GN
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id study_BN_Mom_2/tensorboard/GN_step_1_shards_local_mom > study_BN_Mom_2/GN_step_1_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 40 --id study_BN_Mom_2/tensorboard/GN_step_5_shards_local_mom > study_BN_Mom_2/GN_step_5_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id study_BN_Mom_2/tensorboard/GN_step_20_shards_local_mom > study_BN_Mom_2/GN_step_20_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_50_shards_local_mom > study_BN_Mom_2/GN_step_50_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_100_shards_local_mom > study_BN_Mom_2/GN_step_100_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_500_shards_local_mom > study_BN_Mom_2/GN_step_500_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_2500_shards_local_mom > study_BN_Mom_2/GN_step_2500_shards_local_mom.txt

#Mom Final - Local Mom + Fixup
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5  --log_every_round 200 --id study_BN_Mom_2/tensorboard/Fixup_step_1_shards_local_mom > study_BN_Mom_2/Fixup_step_1_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 40 --id study_BN_Mom_2/tensorboard/Fixup_step_5_shards_local_mom > study_BN_Mom_2/Fixup_step_5_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 10 --id study_BN_Mom_2/tensorboard/Fixup_step_20_shards_local_mom > study_BN_Mom_2/Fixup_step_20_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 5 --id study_BN_Mom_2/tensorboard/Fixup_step_50_shards_local_mom > study_BN_Mom_2/Fixup_step_50_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 5 --id study_BN_Mom_2/tensorboard/Fixup_step_100_shards_local_mom > study_BN_Mom_2/Fixup_step_100_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 5 --id study_BN_Mom_2/tensorboard/Fixup_step_500_shards_local_mom > study_BN_Mom_2/Fixup_step_500_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5  --log_every_round 5 --id study_BN_Mom_2/tensorboard/Fixup_step_2500_shards_local_mom > study_BN_Mom_2/Fixup_step_2500_shards_local_mom.txt



#variance check runs
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 32000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay_half_4 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay_half_4.txt
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 32000 --id study_BN_gradient/tensorboard/BN_noactivs_step_1_shards_local_mom_delay_half_5 > study_BN_gradient/BN_noactivs_step_1_shards_local_mom_delay_half_5.txt

# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id study_BN_Mom_2/tensorboard/GN_step_1_shards_local_mom > study_BN_Mom_2/GN_step_1_shards_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/BN_step_50_shards_local_mom_4 > study_BN_Mom_2/BN_step_50_shards_local_mom_4.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_2/tensorboard/BN_step_20_shards_local_mom_3 > study_BN_Mom_2/BN_step_20_shards_local_mom_3.txt
# python3 main_fl_clean_step1_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --id study_BN_Mom_2/tensorboard/BN_step_1_shards_local_mom_delay_5000_2 > study_BN_Mom_2/BN_step_1_shards_local_mom_delay_5000_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 5 --id study_BN_Mom_2/tensorboard/GN_step_50_shards_3 > study_BN_Mom_2/GN_step_50_shards_3.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_2/tensorboard/BN_step_5_shards_local_mom_3 > study_BN_Mom_2/BN_step_5_shards_local_mom_3.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 40 --id study_BN_Mom_2/tensorboard/BN_step_5_shards_local_mom > study_BN_Mom_2/BN_step_5_shards_local_mom.txt




# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_shards_local_mom_2 > study_BN_Mom_exp/BN_step_2_shards_local_mom_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_shards_4 > study_BN_Mom_exp/BN_step_2_shards_4.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_shards_fedavg_mom_2 > study_BN_Mom_exp/BN_step_2_shards_fedavg_mom_2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 3  -b 20 --frac 1 --method step --alpha 0 --rounds 21333 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_3_shards_local_mom_2 > study_BN_Mom_exp/BN_step_3_shards_local_mom_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 3  -b 20 --frac 1 --method step --alpha 0 --rounds 21333 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_3_shards_4 > study_BN_Mom_exp/BN_step_3_shards_4.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 3  -b 20 --frac 1 --method step --alpha 0 --rounds 21333 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_3_shards_fedavg_mom_2 > study_BN_Mom_exp/BN_step_3_shards_fedavg_mom_2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_shards_local_mom > study_BN_Mom_exp/BN_step_5_shards_local_mom.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_shards > study_BN_Mom_exp/BN_step_5_shards.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_shards_fedavg_mom > study_BN_Mom_exp/BN_step_5_shards_fedavg_mom.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_exp/tensorboard/BN_step_10_shards_local_mom_1 > study_BN_Mom_exp/BN_step_10_shards_local_mom_1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_exp/tensorboard/BN_step_10_shards_1 > study_BN_Mom_exp/BN_step_10_shards_1.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_exp/tensorboard/BN_step_10_shards_fedavg_mom_corrected_2 > study_BN_Mom_exp/BN_step_10_shards_fedavg_mom_corrected_2.txt




# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_lr02_shards_local_mom_1 > study_BN_Mom_exp/BN_step_2_lr02_shards_local_mom_1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_lr02_shards_1 > study_BN_Mom_exp/BN_step_2_lr02_shards_1.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_shards_fedavg_mom_corrected_2 > study_BN_Mom_exp/BN_step_2_shards_fedavg_mom_corrected_2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_lr02_shards_local_mom_2 > study_BN_Mom_exp/BN_step_2_lr02_shards_local_mom_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_lr02_shards_2 > study_BN_Mom_exp/BN_step_2_lr02_shards_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_exp/tensorboard/BN_step_2_lr02_shards_fedavg_mom_2 > study_BN_Mom_exp/BN_step_2_lr02_shards_fedavg_mom_2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_lr02_shards_local_mom_1 > study_BN_Mom_exp/BN_step_5_lr02_shards_local_mom_1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_lr02_shards_1 > study_BN_Mom_exp/BN_step_5_lr02_shards_1.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_shards_fedavg_mom_corrected_2 > study_BN_Mom_exp/BN_step_5_shards_fedavg_mom_corrected_2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_lr02_shards_local_mom_2 > study_BN_Mom_exp/BN_step_5_lr02_shards_local_mom_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_lr02_shards_2 > study_BN_Mom_exp/BN_step_5_lr02_shards_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_exp/tensorboard/BN_step_5_lr02_shards_fedavg_mom_2 > study_BN_Mom_exp/BN_step_5_lr02_shards_fedavg_mom_2.txt



# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_fedavg_mom_test_lr02_corrected > study_BN_Mom_exp/BN_step_1_shards_fedavg_mom_test_lr02_corrected.txt




#study_BN_Mom_4, this includes a rerun

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_lr02 > study_BN_Mom_4/step_1_lr02.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom_lr02 > study_BN_Mom_4/step_1_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_lr02 > study_BN_Mom_4/step_2_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom_lr02 > study_BN_Mom_4/step_2_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_lr02 > study_BN_Mom_4/step_4_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom_lr02 > study_BN_Mom_4/step_4_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_lr02 > study_BN_Mom_4/step_6_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom_lr02 > study_BN_Mom_4/step_6_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_lr02 > study_BN_Mom_4/step_8_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom_lr02 > study_BN_Mom_4/step_8_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_lr02 > study_BN_Mom_4/step_10_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom_lr02 > study_BN_Mom_4/step_10_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_lr02 > study_BN_Mom_4/step_20_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom_lr02 > study_BN_Mom_4/step_20_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_lr02 > study_BN_Mom_4/step_50_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom_lr02 > study_BN_Mom_4/step_50_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_lr02 > study_BN_Mom_4/step_100_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom_lr02 > study_BN_Mom_4/step_100_mom_lr02.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1 > study_BN_Mom_4/step_1.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom > study_BN_Mom_4/step_1_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2 > study_BN_Mom_4/step_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom > study_BN_Mom_4/step_2_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4 > study_BN_Mom_4/step_4.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom > study_BN_Mom_4/step_4_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6 > study_BN_Mom_4/step_6.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom > study_BN_Mom_4/step_6_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8 > study_BN_Mom_4/step_8.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom > study_BN_Mom_4/step_8_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10 > study_BN_Mom_4/step_10.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom > study_BN_Mom_4/step_10_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20 > study_BN_Mom_4/step_20.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom > study_BN_Mom_4/step_20_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50 > study_BN_Mom_4/step_50.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom > study_BN_Mom_4/step_50_mom.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100 > study_BN_Mom_4/step_100.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom > study_BN_Mom_4/step_100_mom.txt





#second round
#study_BN_Mom_4, this includes a rerun

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_lr02__2 > study_BN_Mom_4/step_1_lr02__2.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom_lr02__2 > study_BN_Mom_4/step_1_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_lr02__2 > study_BN_Mom_4/step_2_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom_lr02__2 > study_BN_Mom_4/step_2_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_lr02__2 > study_BN_Mom_4/step_4_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom_lr02__4 > study_BN_Mom_4/step_4_mom_lr02__4.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_lr02__2 > study_BN_Mom_4/step_6_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom_lr02__2 > study_BN_Mom_4/step_6_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_lr02__2 > study_BN_Mom_4/step_8_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom_lr02__2 > study_BN_Mom_4/step_8_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_lr02__2 > study_BN_Mom_4/step_10_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom_lr02__2 > study_BN_Mom_4/step_10_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_lr02__2 > study_BN_Mom_4/step_20_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom_lr02__2 > study_BN_Mom_4/step_20_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_lr02__2 > study_BN_Mom_4/step_50_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom_lr02__2 > study_BN_Mom_4/step_50_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_lr02__2 > study_BN_Mom_4/step_100_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom_lr02__2 > study_BN_Mom_4/step_100_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_lr02__2 > study_BN_Mom_4/step_500_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_mom_lr02__2 > study_BN_Mom_4/step_500_mom_lr02__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_lr02__2 > study_BN_Mom_4/step_2500_lr02__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_mom_lr02__2 > study_BN_Mom_4/step_2500_mom_lr02__2.txt





# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1__2 > study_BN_Mom_4/step_1__2.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom__3 > study_BN_Mom_4/step_1_mom__3.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2__2 > study_BN_Mom_4/step_2__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom__2 > study_BN_Mom_4/step_2_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4__2 > study_BN_Mom_4/step_4__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom__4 > study_BN_Mom_4/step_4_mom__4.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6__2 > study_BN_Mom_4/step_6__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom__2 > study_BN_Mom_4/step_6_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8__2 > study_BN_Mom_4/step_8__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom__2 > study_BN_Mom_4/step_8_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10__2 > study_BN_Mom_4/step_10__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom__2 > study_BN_Mom_4/step_10_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20__2 > study_BN_Mom_4/step_20__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom__2 > study_BN_Mom_4/step_20_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50__2 > study_BN_Mom_4/step_50__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom__2 > study_BN_Mom_4/step_50_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100__2 > study_BN_Mom_4/step_100__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom__2 > study_BN_Mom_4/step_100_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500__2 > study_BN_Mom_4/step_500__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_mom__2 > study_BN_Mom_4/step_500_mom__2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500__2 > study_BN_Mom_4/step_2500__2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_mom__2 > study_BN_Mom_4/step_2500_mom__2.txt





# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_iid > study_BN_Mom_4/step_100_iid.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom_iid > study_BN_Mom_4/step_100_mom_iid.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr0_02 > study_BN_Mom_exp/BN_step_1_shards_lr0_02.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr0_2 > study_BN_Mom_exp/BN_step_1_shards_lr0_2.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr0_5 > study_BN_Mom_exp/BN_step_1_shards_lr0_5.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr1 > study_BN_Mom_exp/BN_step_1_shards_lr1.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr5 > study_BN_Mom_exp/BN_step_1_shards_lr5.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/BN_step_1_shards_lr0_002 > study_BN_Mom_exp/BN_step_1_shards_lr0_002.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method dir --alpha 100 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id test/tensorboard/step_100_iid > test/step_100_iid.txt



# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_exp/tensorboard/step_1_mom_lr1_2 > study_BN_Mom_fixed/step_1_mom_lr1_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_exp/tensorboard/step_10_lr1 > study_BN_Mom_exp/step_10_lr1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_exp/tensorboard/step_20_lr1 > study_BN_Mom_exp/step_20_lr1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_exp/tensorboard/step_100_lr1 > study_BN_Mom_exp/step_100_lr1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_exp/tensorboard/step_500_lr1 > study_BN_Mom_exp/step_500_lr1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 1 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_exp/tensorboard/step_2500_lr1 > study_BN_Mom_exp/step_2500_lr1.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_fixed/tensorboard/step_1_lr02 > study_BN_Mom_fixed/step_1_lr02.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id study_BN_Mom_fixed/tensorboard/step_1_mom_lr02 > study_BN_Mom_fixed/step_1_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_fixed/tensorboard/step_2_lr02 > study_BN_Mom_fixed/step_2_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 100 --id study_BN_Mom_fixed/tensorboard/step_2_mom_lr02 > study_BN_Mom_fixed/step_2_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_fixed/tensorboard/step_4_lr02 > study_BN_Mom_fixed/step_4_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id study_BN_Mom_fixed/tensorboard/step_4_mom_lr02 > study_BN_Mom_fixed/step_4_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_fixed/tensorboard/step_6_lr02 > study_BN_Mom_fixed/step_6_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id study_BN_Mom_fixed/tensorboard/step_6_mom_lr02 > study_BN_Mom_fixed/step_6_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_fixed/tensorboard/step_8_lr02 > study_BN_Mom_fixed/step_8_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 25 --id study_BN_Mom_fixed/tensorboard/step_8_mom_lr02 > study_BN_Mom_fixed/step_8_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_fixed/tensorboard/step_10_lr02 > study_BN_Mom_fixed/step_10_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 20 --id study_BN_Mom_fixed/tensorboard/step_10_mom_lr02 > study_BN_Mom_fixed/step_10_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_fixed/tensorboard/step_20_lr02 > study_BN_Mom_fixed/step_20_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 10 --id study_BN_Mom_fixed/tensorboard/step_20_mom_lr02 > study_BN_Mom_fixed/step_20_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_fixed/tensorboard/step_50_lr02 > study_BN_Mom_fixed/step_50_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 4 --id study_BN_Mom_fixed/tensorboard/step_50_mom_lr02 > study_BN_Mom_fixed/step_50_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_100_lr02 > study_BN_Mom_fixed/step_100_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_100_mom_lr02 > study_BN_Mom_fixed/step_100_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_500_lr02 > study_BN_Mom_fixed/step_500_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_500_mom_lr02 > study_BN_Mom_fixed/step_500_mom_lr02.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_2500_lr02 > study_BN_Mom_fixed/step_2500_lr02.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id study_BN_Mom_fixed/tensorboard/step_2500_mom_lr02 > study_BN_Mom_fixed/step_2500_mom_lr02.txt



#GN
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_lr02_GN > study_BN_Mom_4/step_1_lr02_GN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom_lr02_GN > study_BN_Mom_4/step_1_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_lr02_GN > study_BN_Mom_4/step_2_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom_lr02_GN > study_BN_Mom_4/step_2_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_lr02_GN > study_BN_Mom_4/step_4_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom_lr02_GN > study_BN_Mom_4/step_4_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_lr02_GN > study_BN_Mom_4/step_6_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom_lr02_GN > study_BN_Mom_4/step_6_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_lr02_GN > study_BN_Mom_4/step_8_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom_lr02_GN > study_BN_Mom_4/step_8_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_lr02_GN > study_BN_Mom_4/step_10_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom_lr02_GN > study_BN_Mom_4/step_10_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_lr02_GN > study_BN_Mom_4/step_20_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom_lr02_GN > study_BN_Mom_4/step_20_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_lr02_GN > study_BN_Mom_4/step_50_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom_lr02_GN > study_BN_Mom_4/step_50_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100 -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_lr02_GN > study_BN_Mom_4/step_100_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom_lr02_GN > study_BN_Mom_4/step_100_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_lr02_GN > study_BN_Mom_4/step_500_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_mom_lr02_GN > study_BN_Mom_4/step_500_mom_lr02_GN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500 -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_lr02_GN > study_BN_Mom_4/step_2500_lr02_GN.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_mom_lr02_GN > study_BN_Mom_4/step_2500_mom_lr02_GN.txt


# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 32000 --log_every_round 200 --id study_BN_Mom_4/tensorboard/step_1_mom_lr02_DelayBN_4 > study_BN_Mom_4/step_1_mom_lr02_DelayBN_4.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2  -b 20 --frac 1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 16000 --log_every_round 100 --id study_BN_Mom_4/tensorboard/step_2_mom_lr02_DelayBN > study_BN_Mom_4/step_2_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 4  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 8000 --log_every_round 50 --id study_BN_Mom_4/tensorboard/step_4_mom_lr02_DelayBN > study_BN_Mom_4/step_4_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 6  -b 20 --frac 1 --method step --alpha 0 --rounds 10667 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 5334 --log_every_round 30 --id study_BN_Mom_4/tensorboard/step_6_mom_lr02_DelayBN > study_BN_Mom_4/step_6_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 8  -b 20 --frac 1 --method step --alpha 0 --rounds 8000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 4000 --log_every_round 25 --id study_BN_Mom_4/tensorboard/step_8_mom_lr02_DelayBN > study_BN_Mom_4/step_8_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 10  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 3200 --log_every_round 20 --id study_BN_Mom_4/tensorboard/step_10_mom_lr02_DelayBN > study_BN_Mom_4/step_10_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1600 --log_every_round 10 --id study_BN_Mom_4/tensorboard/step_20_mom_lr02_DelayBN > study_BN_Mom_4/step_20_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 50  -b 20 --frac 1 --method step --alpha 0 --rounds 1280 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 640 --log_every_round 4 --id study_BN_Mom_4/tensorboard/step_50_mom_lr02_DelayBN > study_BN_Mom_4/step_50_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 320 --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_100_mom_lr02_DelayBN > study_BN_Mom_4/step_100_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 64 --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_500_mom_lr02_DelayBN > study_BN_Mom_4/step_500_mom_lr02_DelayBN.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 12 --log_every_round 2 --id study_BN_Mom_4/tensorboard/step_2500_mom_lr02_DelayBN > study_BN_Mom_4/step_2500_mom_lr02_DelayBN.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_500_lr0002_NO_MOM_plain_GN_WN > final_poll_exp/step_500_lr0002_NO_MOM_plain_GN_WN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_BN_WN_2 > final_poll_exp/step_1_mom_lr002_BN_WN_2.txt




# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_MOM_BN_WN > final_poll_exp/step_1_lr0002_MOM_BN_WN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_MOM_GN_WN > final_poll_exp/step_1_lr0002_MOM_GN_WN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_MOM_BN_2 > final_poll_exp/step_1_lr0002_MOM_BN_2.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_MOM_GN_2 > final_poll_exp/step_1_lr0002_MOM_GN_2.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_BN_WN > final_poll_exp/step_1_lr0002_BN_WN.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_GN_WN > final_poll_exp/step_1_lr0002_GN_WN.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_BN > final_poll_exp/step_1_lr0002_BN.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr0002_GN > final_poll_exp/step_1_lr0002_GN.txt

# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_MOM_BN_WN > final_poll_exp/step_1_lr002_MOM_BN_WN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_MOM_GN_WN > final_poll_exp/step_1_lr002_MOM_GN_WN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_MOM_BN > final_poll_exp/step_1_lr002_MOM_BN.txt
# python3 main_fl_clean_step1_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_MOM_GN > final_poll_exp/step_1_lr002_MOM_GN.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_BN_WN_2 > final_poll_exp/step_1_lr002_BN_WN_2.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_GN_WN_2 > final_poll_exp/step_1_lr002_GN_WN_2.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_BN_2 > final_poll_exp/step_1_lr002_BN_2.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id final_poll_exp/tensorboard/step_1_lr002_GN_2 > final_poll_exp/step_1_lr002_GN_2.txt

# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_MOM_BN_WN_2 > final_poll_exp/step_100_lr0002_MOM_BN_WN_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_MOM_GN_WN_2 > final_poll_exp/step_100_lr0002_MOM_GN_WN_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_MOM_BN_2 > final_poll_exp/step_100_lr0002_MOM_BN_2.txt
# python3 main_fl_clean_w_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_MOM_GN_2 > final_poll_exp/step_100_lr0002_MOM_GN_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BN_WeightNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_BN_WN_2 > final_poll_exp/step_100_lr0002_BN_WN_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GN_WeightNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_GN_WN_2 > final_poll_exp/step_100_lr0002_GN_WN_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer BatchNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_BN_2 > final_poll_exp/step_100_lr0002_BN_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_GN_2 > final_poll_exp/step_100_lr0002_GN_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 2 --wd 0.0001 --id final_poll_exp/tensorboard/step_100_lr002_GN_2_wd0001 > final_poll_exp/step_100_lr002_GN_2_wd0001.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet18 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.002 --num_users 5 --norm_layer WeightNormalization --log_every_round 2 --id final_poll_exp/tensorboard/step_100_lr0002_WN_resnet18_GN > final_poll_exp/step_100_lr0002_WN_resnet18_GN.txt


# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20 > final_poll_tiny/resnet18_bn_step20.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_bn_step100 > final_poll_tiny/resnet18_bn_step100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_bn_step500 > final_poll_tiny/resnet18_bn_step500.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step2500 > final_poll_tiny/resnet18_bn_step2500.txt

#tiny 
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1 > final_poll_tiny/resnet18_bn_step1.txt
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1m > final_poll_tiny/resnet18_gn_step1m.txt
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --freeze_bn_at_round 62720 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half > final_poll_tiny/resnet18_bn_step1_delay@half.txt



# python3 main_fl_clean_step1_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 200 --id final_poll_tiny/tensorboard/resnet18_bn_step1_fedavg_mom_2 > final_poll_tiny/resnet18_bn_step1_fedavg_mom_2.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_fedavg_mom > final_poll_tiny/resnet18_bn_step20_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_bn_step100_fedavg_mom > final_poll_tiny/resnet18_bn_step100_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_bn_step500_fedavg_mom > final_poll_tiny/resnet18_bn_step500_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step2500_fedavg_mom > final_poll_tiny/resnet18_bn_step2500_fedavg_mom.txt

# python3 main_fl_clean_step1_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_fedavg_mom_2 > final_poll_tiny/resnet18_gn_step1_fedavg_mom_2.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_gn_step20_fedavg_mom > final_poll_tiny/resnet18_gn_step20_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_gn_step100_fedavg_mom > final_poll_tiny/resnet18_gn_step100_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_gn_step500_fedavg_mom > final_poll_tiny/resnet18_gn_step500_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step2500_fedavg_mom > final_poll_tiny/resnet18_gn_step2500_fedavg_mom.txt

# #delay 
# python3 main_fl_clean_step1_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_fedavg_mom_2 > final_poll_tiny/resnet18_bn_step1_delay@half_fedavg_mom_2.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3136 --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_delay@half_fedavg_mom > final_poll_tiny/resnet18_bn_step20_delay@half_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_fedavg_mom > final_poll_tiny/resnet18_bn_step100_delay@half_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_fedavg_mom > final_poll_tiny/resnet18_bn_step500_delay@half_fedavg_mom.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step2500_delay@half_fedavg_mom > final_poll_tiny/resnet18_bn_step2500_delay@half_fedavg_mom.txt


# local mom
# python3 main_fl_clean_step1_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_local_mom > final_poll_tiny/resnet18_bn_step1_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_local_mom > final_poll_tiny/resnet18_bn_step20_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_bn_step100_local_mom > final_poll_tiny/resnet18_bn_step100_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_bn_step500_local_mom > final_poll_tiny/resnet18_bn_step500_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step2500_local_mom > final_poll_tiny/resnet18_bn_step2500_local_mom.txt

# python3 main_fl_clean_step1_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_local_mom > final_poll_tiny/resnet18_gn_step1_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_gn_step20_local_mom > final_poll_tiny/resnet18_gn_step20_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_gn_step100_local_mom > final_poll_tiny/resnet18_gn_step100_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_gn_step500_local_mom > final_poll_tiny/resnet18_gn_step500_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step2500_local_mom > final_poll_tiny/resnet18_gn_step2500_local_mom.txt

# #delay 
# python3 main_fl_clean_step1_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_local_mom > final_poll_tiny/resnet18_bn_step1_delay@half_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3136 --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_delay@half_local_mom > final_poll_tiny/resnet18_bn_step20_delay@half_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method step --alpha 0 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --log_every_round 5 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_local_mom > final_poll_tiny/resnet18_bn_step100_delay@half_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --log_every_round 2 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_local_mom > final_poll_tiny/resnet18_bn_step500_delay@half_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step2500_delay@half_local_mom > final_poll_tiny/resnet18_bn_step2500_delay@half_local_mom.txt


# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_lr0.2 > final_poll_tiny/resnet18_bn_step1_lr0.2.txt
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_lr0.2 > final_poll_tiny/resnet18_gn_step1_lr0.2.txt
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --freeze_bn_at_round 62720 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_lr0.2 > final_poll_tiny/resnet18_bn_step1_delay@half_lr0.2.txt
# python3 main_fl_clean_step1_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_fedavg_mom_lr0.2 > final_poll_tiny/resnet18_bn_step1_fedavg_mom_lr0.2.txt
# python3 main_fl_clean_step1_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method step --alpha 0 --rounds 125440 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_fedavg_mom_lr0.2 > final_poll_tiny/resnet18_gn_step1_fedavg_mom_lr0.2.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer BatchNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_fedavg_mom_lr0.2 > final_poll_tiny/resnet18_bn_step20_fedavg_mom_lr0.2.txt
# python3 main_fl_clean_w_mom.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer GroupNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_gn_step20_fedavg_mom_lr0.2 > final_poll_tiny/resnet18_gn_step20_fedavg_mom_lr0.2.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer BatchNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_bn_step20_lr0.2 > final_poll_tiny/resnet18_bn_step20_lr0.2.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method step --alpha 0 --rounds 6272 --num_data 98000 --lr 0.2 --num_users 10 --norm_layer GroupNorm --log_every_round 10 --id final_poll_tiny/tensorboard/resnet18_gn_step20_lr0.2 > final_poll_tiny/resnet18_gn_step20_lr0.2.txt



#varing num clients and frac
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 100 --freeze_bn_at_round 3200 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.5_lr02 > final_poll_cifar10/DelayBN_noactivs_step_1_shards_100u@0.5_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.5 > final_poll_cifar10/DelayBN_noactivs_step_20_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10/DelayBN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10/DelayBN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.5 > final_poll_cifar10/DelayBN_noactivs_step_2500_shards_3_100u@0.5.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/BN_noactivs_step_1_shards_100u@0.5_lr02 > final_poll_cifar10/BN_noactivs_step_1_shards_100u@0.5_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/BN_noactivs_step_20_shards_100u@0.5 > final_poll_cifar10/BN_noactivs_step_20_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10/BN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10/BN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_2500_shards_100u@0.5 > final_poll_cifar10/BN_noactivs_step_2500_shards_100u@0.5.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/GN_noactivs_step_1_shards_100u@0.5_lr02 > final_poll_cifar10/GN_noactivs_step_1_shards_100u@0.5_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2--id final_poll_cifar10/tensorboard/GN_noactivs_step_20_shards_100u@0.5 > final_poll_cifar10/GN_noactivs_step_20_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10/GN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10/GN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_2500_shards_100u@0.5 > final_poll_cifar10/GN_noactivs_step_2500_shards_100u@0.5.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 100 --freeze_bn_at_round 16000 --norm_layer BatchNorm --log_every_round 50 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.1_lr02 > final_poll_cifar10/DelayBN_noactivs_step_1_shards_100u@0.1_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10/DelayBN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10/DelayBN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10/DelayBN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.1 > final_poll_cifar10/DelayBN_noactivs_step_2500_shards_3_100u@0.1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 50 --id final_poll_cifar10/tensorboard/BN_noactivs_step_1_shards_100u@0.1_lr02 > final_poll_cifar10/BN_noactivs_step_1_shards_100u@0.1_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/BN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10/BN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10/BN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10/BN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_2500_shards_100u@0.1 > final_poll_cifar10/BN_noactivs_step_2500_shards_100u@0.1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 50 --id final_poll_cifar10/tensorboard/GN_noactivs_step_1_shards_100u@0.1_lr02 > final_poll_cifar10/GN_noactivs_step_1_shards_100u@0.1_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/GN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10/GN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10/tensorboard/GN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10/GN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10/GN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_2500_shards_100u@0.1 > final_poll_cifar10/GN_noactivs_step_2500_shards_100u@0.1.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 50000 --lr 0.2 --num_users 100 --freeze_bn_at_round 5333 --norm_layer BatchNorm --log_every_round 15 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10/DelayBN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 267 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10/DelayBN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 53 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10/DelayBN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 11 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10/DelayBN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.3 > final_poll_cifar10/DelayBN_noactivs_step_2500_shards_3_100u@0.3.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 15 --id final_poll_cifar10/tensorboard/BN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10/BN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/BN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10/BN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10/BN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10/BN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_2500_shards_100u@0.3 > final_poll_cifar10/BN_noactivs_step_2500_shards_100u@0.3.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 15 --id final_poll_cifar10/tensorboard/GN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10/GN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/GN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10/GN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10/tensorboard/GN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10/GN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10/GN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_2500_shards_100u@0.3 > final_poll_cifar10/GN_noactivs_step_2500_shards_100u@0.3.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 100 --freeze_bn_at_round 16000 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_1_shards_100u@1 > final_poll_cifar10/DelayBN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_20_shards_100u@1 > final_poll_cifar10/DelayBN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_100_shards_100u@1 > final_poll_cifar10/DelayBN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_500_shards_100u@1 > final_poll_cifar10/DelayBN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@1 > final_poll_cifar10/DelayBN_noactivs_step_2500_shards_3_100u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/BN_noactivs_step_1_shards_100u@1 > final_poll_cifar10/BN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/BN_noactivs_step_20_shards_100u@1 > final_poll_cifar10/BN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_100_shards_100u@1 > final_poll_cifar10/BN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_500_shards_100u@1 > final_poll_cifar10/BN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/BN_noactivs_step_2500_shards_100u@1 > final_poll_cifar10/BN_noactivs_step_2500_shards_100u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id final_poll_cifar10/tensorboard/GN_noactivs_step_1_shards_100u@1 > final_poll_cifar10/GN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10/tensorboard/GN_noactivs_step_20_shards_100u@1 > final_poll_cifar10/GN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10/tensorboard/GN_noactivs_step_100_shards_100u@1 > final_poll_cifar10/GN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_500_shards_100u@1 > final_poll_cifar10/GN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10/tensorboard/GN_noactivs_step_2500_shards_100u@1 > final_poll_cifar10/GN_noactivs_step_2500_shards_100u@1.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 20 --freeze_bn_at_round 8000 --norm_layer BatchNorm --log_every_round 25 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_20u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 20 --norm_layer BatchNorm --log_every_round 25 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_20u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 20 --norm_layer GroupNorm --log_every_round 25 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_20u@1.txt


# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 50 --freeze_bn_at_round 3200 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 50 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_50u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 50 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_50u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 50000 --lr 0.2 --num_users 50 --norm_layer GroupNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_50u@1.txt



#make up
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_BN > exp/fedtan_com_BN.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_BN_2 > exp/fedtan_com_BN_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_GN > exp/fedtan_com_GN.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_GN_3 > exp/fedtan_com_GN_3.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 1000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_1000_10k > exp/fedtan_com_freeze_1000_10k.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 2000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_2000_10k > exp/fedtan_com_freeze_2000_10k.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 5000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_5000_10k > exp/fedtan_com_freeze_5000_10k.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_6000_10k > exp/fedtan_com_freeze_6000_10k.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 8000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_8000_10k > exp/fedtan_com_freeze_8000_10k.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_5u@1_2 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_5u@1_2.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_5u@1_3 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_5u@1_3.txt

# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method step --alpha 0.1 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id tiny_output/tensorboard/resnet18_bn_step2500_delay@half_new2 > tiny_output/resnet18_bn_step2500_delay@half_new2.txt


# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/DelayBN_noactivs_step_1_shards_5u______@1 > final_poll_fix_round/DelayBN_noactivs_step_1_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/DelayBN_noactivs_step______0_shards_5u______@1 > final_poll_fix_round/DelayBN_noactivs_step______0_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/DelayBN_noactivs_step_100_shards_5u______@1 > final_poll_fix_round/DelayBN_noactivs_step_100_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/DelayBN_noactivs_step_500_shards_5u______@1 > final_poll_fix_round/DelayBN_noactivs_step_500_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/DelayBN_noactivs_step______500_shards_3_5u______@1 > final_poll_fix_round/DelayBN_noactivs_step______500_shards_3_5u______@1.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/BN_noactivs_step_1_shards_5u______@1 > final_poll_fix_round/BN_noactivs_step_1_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/BN_noactivs_step______0_shards_5u______@1 > final_poll_fix_round/BN_noactivs_step______0_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/BN_noactivs_step_100_shards_5u______@1 > final_poll_fix_round/BN_noactivs_step_100_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/BN_noactivs_step_500_shards_5u______@1 > final_poll_fix_round/BN_noactivs_step_500_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/BN_noactivs_step______500_shards_5u______@1 > final_poll_fix_round/BN_noactivs_step______500_shards_5u______@1.txt
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/GN_noactivs_step_1_shards_5u______@1 > final_poll_fix_round/GN_noactivs_step_1_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/GN_noactivs_step______0_shards_5u______@1______ > final_poll_fix_round/GN_noactivs_step______0_shards_5u______@1______.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round/tensorboard/GN_noactivs_step_100_shards_5u______@1 > final_poll_fix_round/GN_noactivs_step_100_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/GN_noactivs_step_500_shards_5u______@1 > final_poll_fix_round/GN_noactivs_step_500_shards_5u______@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round/tensorboard/GN_noactivs_step______500_shards_5u______@1 > final_poll_fix_round/GN_noactivs_step______500_shards_5u______@1.txt


# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --save_model --id exp/tensorboard/fedtan_com_BN_save_model > exp/fedtan_com_BN_save_model.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_GN_3_new2 > exp/fedtan_com_GN_3_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.05 --num_users 5  --log_every_round 5 --id exp/tensorboard/fedtan_com_fixup_new2 > exp/fedtan_com_fixup_new2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method dir --alpha 1000 --rounds 10000 --num_data 49000 --lr 0.05 --num_users 5  --log_every_round 200 --id exp4/tensorboard/fedtan_com_fixup_new2_iid > exp4/fedtan_com_fixup_new2_iid.txt


# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 500 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_500_change_lr2 > exp/fedtan_com_freeze_500_change_lr2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 1000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_1000_change_lr2 > exp/fedtan_com_freeze_1000_change_lr2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 5000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_5000_change_lr2 > exp/fedtan_com_freeze_5000_change_lr2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_6000_change_lr2 > exp/fedtan_com_freeze_6000_change_lr2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 2000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_2000_change_lr2 > exp/fedtan_com_freeze_2000_change_lr2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_change_lr2 > exp/fedtan_com_freeze_7000_change_lr2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 500 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_500_10k_new2 > exp/fedtan_com_freeze_500_10k_new2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 2000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_6000_10k_new2 > exp/fedtan_com_freeze_6000_10k_new2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 5000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_6500_10k_new2 > exp/fedtan_com_freeze_6500_10k_new2.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_lr01 > exp/fedtan_com_freeze_7000_lr01.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_lr005 > exp/fedtan_com_freeze_7000_lr005.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_lr002 > exp/fedtan_com_freeze_7000_lr002.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_lr02 > exp/fedtan_com_freeze_7000_lr02.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.1 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_7000_lr01 > exp/fedtan_com_freeze_7000_lr01.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 5000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_freeze_bs20_lr05 > exp/fedtan_com_freeze_bs20_lr05.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 5000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_freeze_bs20_lr02 > exp/fedtan_com_freeze_bs20_lr02.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 2000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_freeze2k_bs20_lr05 > exp/fedtan_com_freeze2k_bs20_lr05.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 2000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id exp/tensorboard/fedtan_com_freeze2k_bs20_lr02 > exp/fedtan_com_freeze2k_bs20_lr02.txt


# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --start_round 5000 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/fedtan_com_BN_save_model_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_com_xxx > exp/fedtan_com_xxx.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 7000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --start_round 5000 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/fedtan_com_BN_save_model_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_com_xxx2 > exp/fedtan_com_xxx2.txt


# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/ours_lr02 > exp2/ours_lr02.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/ours_lr05 > exp2/ours_lr05.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/ours_lr005 > exp2/ours_lr005.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/ours_lr02 > exp2/ours_lr02_bs128.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/ours_lr005_bs20 > exp2/ours_lr005_bs128.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/theirs_lr02 > exp2/theirs_lr02.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/theirs_lr005 > exp2/theirs_lr005.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/theirs_lr02 > exp2/theirs_lr02_bs128.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 6400 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/theirs_lr005_bs20 > exp2/theirs_lr005_bs128.txt


# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000  --freeze_bn_at_round 8000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/fedtan_com_freeze_8000_10k_new2 > exp/fedtan_com_freeze_8000_10k_new2.txt

# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 50000  --freeze_bn_at_round 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --id exp/tensorboard/fedtan_com_freeze_10000 > exp/fedtan_com_freeze_10000.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 500 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/test_fast_local_mom > exp/test_fast_local_mom.txt
# python3 main_fl_clean_local_mom.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 500 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/test_original_local_mom > exp/test_original_local_mom.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards > exp2/BN_step_5_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay > exp2/BN_step_5_shards_delay.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_lr02 > exp2/BN_step_5_shards_lr02.txt





# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr02 > exp2/BN_step_5_shards_delay_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05_2 > exp2/BN_step_5_shards_delay_lr05_2.txt


# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay1000_lr02_lm > exp2/BN_step_5_shards_delay1000_lr02_lm.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 2000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay2000_lr02_lm > exp2/BN_step_5_shards_delay2000_lr02_lm.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 4000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay4000_lr02_lm > exp2/BN_step_5_shards_delay4000_lr02_lm.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 8000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay8000_lr02_lm > exp2/BN_step_5_shards_delay8000_lr02_lm.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr02_lm > exp2/BN_step_5_shards_delay_lr02_lm.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05_lm > exp2/BN_step_5_shards_delay_lr05_lm.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05 > exp2/BN_step_5_shards_delay_lr05.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/theirs_BN_step_5_shards_delay_bs128_lr05 > exp2/theirs_BN_step_5_shards_delay_bs128_lr05.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/theirs_BN_step_5_shards_delay_lr02_bs128_lr02 > exp2/theirs_BN_step_5_shards_delay_lr02_bs128_lr02.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr02_xxx > exp2/BN_step_5_shards_delay_lr02_xxx.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05_2_xxx > exp2/BN_step_5_shards_delay_lr05_2_xxx.txt


# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay1000_lr02_lm_xxx > exp2/BN_step_5_shards_delay1000_lr02_lm_xxx.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 2000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay2000_lr02_lm_xxx > exp2/BN_step_5_shards_delay2000_lr02_lm_xxx.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 4000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay4000_lr02_lm_xxx > exp2/BN_step_5_shards_delay4000_lr02_lm_xxx.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 8000 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay8000_lr02_lm_xxx > exp2/BN_step_5_shards_delay8000_lr02_lm_xxx.txt

# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr02_lm_xxx > exp2/BN_step_5_shards_delay_lr02_lm_xxx.txt
# python3 main_fl_clean_local_mom_fast.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05_lm_xxx > exp2/BN_step_5_shards_delay_lr05_lm_xxx.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/BN_step_5_shards_delay_lr05_xxx > exp2/BN_step_5_shards_delay_lr05_xxx.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/theirs_BN_step_5_shards_delay_bs128_lr05_xxx > exp2/theirs_BN_step_5_shards_delay_bs128_lr05_xxx.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 6400 --log_every_round 400 --id exp2/tensorboard/theirs_BN_step_5_shards_delay_lr02_bs128_lr02_xxx > exp2/theirs_BN_step_5_shards_delay_lr02_bs128_lr02_xxx.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 2000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1000 --log_every_round 100 --id exp2/tensorboard/ours_BN_step_5_shards_delay_bs128_lr05 > exp2/ours_BN_step_5_shards_delay_bs128_lr05.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 2000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --freeze_bn_at_round 1000 --log_every_round 400 --id exp2/tensorboard/ours_BN_step_5_shards_delay_lr02_bs128_lr02 > exp2/ours_BN_step_5_shards_delay_lr02_bs128_lr02.txt






# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 50000 --lr 0.2 --num_users 20 --freeze_bn_at_round 8000 --norm_layer BatchNorm --log_every_round 25 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 20 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_20u@1.txt



# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 64000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 640 --id rerun1/tensorboard/BN_noactivs_step_1_shards > rerun1/BN_noactivs_step_1_shards.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id exp/tensorboard/test_128_20 > exp/test_128_20.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/test_128_100 > exp/test_128_100.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id exp/tensorboard/test_128_500 > exp/test_128_500.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id exp/tensorboard/test_128_2500 > exp/test_128_2500.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 128 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 30 --id exp/tensorboard/test_128_20_128 > exp/test_128_20_128.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 128 --frac 1 --method step --alpha 0 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 5 --id exp/tensorboard/test_128_100_128 > exp/test_128_100_128.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 128 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id exp/tensorboard/test_128_500_128 > exp/test_128_500_128.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 128 --frac 1 --method step --alpha 0 --rounds 128 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id exp/tensorboard/test_128_2500_128 > exp/test_128_2500_128.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 20 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --clip_grad 1 --id exp/tensorboard/fedtan_gradclip_clip@1_bs20_delay5k > exp/fedtan_gradclip_clip@1_bs20_delay5k.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 5001 --freeze_bn_at_round 5000 --clip_grad 1 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/fedtan_com_BN_save_model_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@2_69 > exp/fedtan_gradclip_clip@2_69.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 5001 --freeze_bn_at_round 5000 --clip_grad 1 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/fedtan_com_BN_save_model_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@1_69 > exp/fedtan_gradclip_clip@1_69.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 3000 --freeze_bn_at_round 3000 --clip_grad 1 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r3000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@1_58_delay3k_2 > exp/fedtan_gradclip_clip@1_58_delay3k_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 3000 --freeze_bn_at_round 3000 --clip_grad 1 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r3000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@1_69_delay3k_2 > exp/fedtan_gradclip_clip@1_69_delay3k_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 3000 --freeze_bn_at_round 3000 --clip_grad 0.5 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r3000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@0d5_69_delay3k > exp/fedtan_gradclip_clip@0d5_69_delay3k.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 4000 --freeze_bn_at_round 4000 --clip_grad 5 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r4000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@5_69_delay4k > exp/fedtan_gradclip_clip@5_69_delay4k.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@3_69_delay2k_3 > exp/fedtan_gradclip_clip@3_69_delay2k_3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 4 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@4_69_delay2k_3 > exp/fedtan_gradclip_clip@4_69_delay2k_3.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 3000 --freeze_bn_at_round 3000 --clip_grad 2 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r3000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@2_58_delay3k > exp/fedtan_gradclip_clip@2_58_delay3k.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 2 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@2_58_delay2k > exp/fedtan_gradclip_clip@2_58_delay2k.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 1000 --freeze_bn_at_round 1000 --clip_grad 2 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r1000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip@2_58_delay1k > exp/fedtan_gradclip_clip@2_58_delay1k.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --freeze_bn_at_round 2000 --clip_grad 3 --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_2 > exp4/fedtan_gradclip_clip@3_69_delay2k_2.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 50 --freeze_bn_at_round 2000 --clip_grad 3 --probe_activs --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_3_activs > exp4/fedtan_gradclip_clip@3_69_delay2k_3_activs.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --clip_grad 1  --id exp/tensorboard/fedtan_gradclip_clip@1_69_delay5k_lr005 > exp/fedtan_gradclip_clip@1_69_delay5k_lr005.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.05 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --clip_grad 2  --id exp/tensorboard/fedtan_gradclip_clip@2_69_delay5k_lr005 > exp/fedtan_gradclip_clip@2_69_delay5k_lr005.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --clip_grad 1  --id exp/tensorboard/fedtan_gradclip_clip@1_69_delay5k_lr02 > exp/fedtan_gradclip_clip@1_69_delay5k_lr02.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --clip_grad 2  --id exp/tensorboard/fedtan_gradclip_clip@2_69_delay5k_lr02 > exp/fedtan_gradclip_clip@2_69_delay5k_lr02.txt



# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 1000 --save_model --id exp/tensorboard/save_model_normal_58 > exp/save_model_normal_58.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 5000 --start_round 5000 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_gradclip_clip4 > exp/fedtan_gradclip_clip4.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 5000 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/fedtan_com_BN_save_model_checkpoint_r5000.pth.tar --id exp/tensorboard/fedtan_noclip > exp/fedtan_noclip.txt




# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --probe_activs --id exp4/tensorboard/standard_BN_w_activs > exp4/standard_BN_w_activs.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --id exp4/tensorboard/standard_BN > exp4/standard_BN.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --probe_activs --id exp4/tensorboard/standard_GN_w_activs > exp4/standard_GN_w_activs.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer GroupNorm --log_every_round 200 --id exp4/tensorboard/standard_GN > exp4/standard_GN.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method dir --alpha 100 --rounds 10000 --num_data 49000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --freeze_bn_at_round 2000 --clip_grad 3 --id exp4/tensorboard/fedtan_gradclip_clip@iid_ours > exp4/fedtan_gradclip_clip@iid_ours.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_1_lr68 > exp4/fedtan_gradclip_clip@3_69_delay2k_1_lr68.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_2_lr68 > exp4/fedtan_gradclip_clip@3_69_delay2k_2_lr68.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_3_lr68 > exp4/fedtan_gradclip_clip@3_69_delay2k_3_lr68.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 4 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@4_69_delay2k_1_lr68 > exp4/fedtan_gradclip_clip@4_69_delay2k_1_lr68.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 4 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@4_69_delay2k_2_lr68 > exp4/fedtan_gradclip_clip@4_69_delay2k_2_lr68.txt

# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_1_lr689 > exp4/fedtan_gradclip_clip@3_69_delay2k_1_lr689.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_2_lr689 > exp4/fedtan_gradclip_clip@3_69_delay2k_2_lr689.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 3 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@3_69_delay2k_3_lr689 > exp4/fedtan_gradclip_clip@3_69_delay2k_3_lr689.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 4 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@4_69_delay2k_1_lr689 > exp4/fedtan_gradclip_clip@4_69_delay2k_1_lr689.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 5  -b 128 --frac 1 --method step --alpha 0 --rounds 10000 --num_data 50000 --lr 0.5 --num_users 5 --norm_layer BatchNorm --log_every_round 200 --start_round 2000 --freeze_bn_at_round 2000 --clip_grad 4 --pretrained /fs/ess/scratch/PAS2099/jike/DelayBN/exp/models/save_model_normal_checkpoint_r2000.pth.tar --id exp4/tensorboard/fedtan_gradclip_clip@4_69_delay2k_2_lr689 > exp4/fedtan_gradclip_clip@4_69_delay2k_2_lr689.txt


# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 640 --num_data 50000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --id exp/tensorboard/BN_noactivs_step_100_dir03 > exp/BN_noactivs_step_100_dir03.txt
