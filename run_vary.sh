#!/bin/bash
#PBS -l walltime=80:15:00
#PBS -l nodes=1:ppn=2:gpus=1,mem=100GB
#PBS -A PAS2099
#PBS -N jike338
#PBS -j oe
#PBS -m be
#SBATCH --output=script_output1/R-%x.%j.out
module load python
module load cuda


cd /fs/ess/scratch/PAS2099/jike/DelayBN


#varing num clients and frac

#frac =0.5
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 100 --freeze_bn_at_round 2000 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.5_2 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_100u@0.5_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.5 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 1 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.5 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_100u@0.5.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_100u@0.5 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_100u@0.5 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_100u@0.5 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_100u@0.5.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.5 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_100u@0.5 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.5 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_100u@0.5_2 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_100u@0.5_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.5 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_100u@0.5 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_100u@0.5 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_100u@0.5.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.5 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_100u@0.5 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_100u@0.5.txt


#frac =0.1
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 49000 --lr 0.2 --num_users 100 --freeze_bn_at_round 16000 --norm_layer BatchNorm --log_every_round 50 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 800 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_100u@0.1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 50 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_100u@0.1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_100u@0.1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_100u@0.1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.1 --method step --alpha 0 --rounds 32000 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 50 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_100u@0.1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.1 --method step --alpha 0 --rounds 1600 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_100u@0.1 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_100u@0.1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_100u@0.1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_100u@0.1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_100u@0.1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_100u@0.1.txt


#frac =0.3
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 49000 --lr 0.2 --num_users 100 --freeze_bn_at_round 5333 --norm_layer BatchNorm --log_every_round 15 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 267 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 107 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 53 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 22 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 11 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 5 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 2 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@0.3 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_100u@0.3.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 15 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 107 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 22 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 5 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_100u@0.3 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_100u@0.3.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 0.3 --method step --alpha 0 --rounds 10666 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 15 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_100u@0.3 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 0.3 --method step --alpha 0 --rounds 534 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 2 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_100u@0.3 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 0.3 --method step --alpha 0 --rounds 107 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_100u@0.3 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 22 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_100u@0.3 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_100u@0.3.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 0.3 --method step --alpha 0 --rounds 5 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_100u@0.3 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_100u@0.3.txt





#vary number of users

#100u
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 49000 --lr 0.2 --num_users 100 --freeze_bn_at_round 1600 --norm_layer BatchNorm --log_every_round 5 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_100u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 80 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_100u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 16 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_100u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 3 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_100u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 2 --num_data 49000 --lr 0.02 --num_users 100 --freeze_bn_at_round 1 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_100u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_100u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer BatchNorm --log_every_round 5 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_100u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_100u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_100u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_100u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 2 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_100u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_100u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 3200 --num_data 49000 --lr 0.2 --num_users 100 --norm_layer GroupNorm --log_every_round 5 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_100u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_100u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_100u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_100u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_100u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 2 --num_data 49000 --lr 0.02 --num_users 100 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_100u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_100u@1.txt


#20u
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 49000 --lr 0.2 --num_users 20 --freeze_bn_at_round 8000 --norm_layer BatchNorm --log_every_round 20 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 800 --num_data 49000 --lr 0.02 --num_users 20 --freeze_bn_at_round 400 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 20 --freeze_bn_at_round 80 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 20 --freeze_bn_at_round 16 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 20 --freeze_bn_at_round 3 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_20u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_20u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 49000 --lr 0.2 --num_users 20 --norm_layer BatchNorm --log_every_round 20 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 800 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_20u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_20u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 16000 --num_data 49000 --lr 0.2 --num_users 20 --norm_layer GroupNorm --log_every_round 20 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 800 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_20u@1_2 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_20u@1_2.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 160 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 32 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_20u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 7 --num_data 49000 --lr 0.02 --num_users 20 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_20u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_20u@1.txt

#50u
# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 50 --freeze_bn_at_round 3200 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 50 --freeze_bn_at_round 160 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 50 --freeze_bn_at_round 32 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 50 --freeze_bn_at_round 6 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 50 --freeze_bn_at_round 1 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/DelayBN_noactivs_step_2500_shards_3_50u@1 > final_poll_cifar10_num_clients/DelayBN_noactivs_step_2500_shards_3_50u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 50 --norm_layer BatchNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer BatchNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/BN_noactivs_step_2500_shards_50u@1 > final_poll_cifar10_num_clients/BN_noactivs_step_2500_shards_50u@1.txt

# python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 6400 --num_data 49000 --lr 0.2 --num_users 50 --norm_layer GroupNorm --log_every_round 10 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_1_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_1_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 320 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_20_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_20_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 64 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1  --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_100_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_100_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 13 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_500_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_500_shards_50u@1.txt
# python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 3 --num_data 49000 --lr 0.02 --num_users 50 --norm_layer GroupNorm --log_every_round 1 --id final_poll_cifar10_num_clients/tensorboard/GN_noactivs_step_2500_shards_50u@1 > final_poll_cifar10_num_clients/GN_noactivs_step_2500_shards_50u@1.txt



# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method step --alpha 0 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_shards > final_poll_tiny/resnet18_gn_step500_shards.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_01 > final_poll_tiny/resnet18_gn_step500_01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_03 > final_poll_tiny/resnet18_gn_step500_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_06 > final_poll_tiny/resnet18_gn_step500_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_100 > final_poll_tiny/resnet18_gn_step500_100.txt





#* alpha = 0.1
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_01 > final_poll_tiny/resnet18_bn_step1_01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step_20_01 > final_poll_tiny/resnet18_bn_step_20_01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step100_01_2 > final_poll_tiny/resnet18_bn_step100_01_2.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step500_01 > final_poll_tiny/resnet18_bn_step500_01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_01 > final_poll_tiny/resnet18_bn_step_2500_01.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_01wd > final_poll_tiny/resnet18_gn_step1_01wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step_20_01wd > final_poll_tiny/resnet18_gn_step_20_01wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step100_01wd > final_poll_tiny/resnet18_gn_step100_01wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_01wd > final_poll_tiny/resnet18_gn_step500_01wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step_2500_01wd > final_poll_tiny/resnet18_gn_step_2500_01wd.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_a01 > final_poll_tiny/resnet18_bn_step1_delay@half_a01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3200 --id final_poll_tiny/tensorboard/resnet18_bn_step_20_delay@half_a01 > final_poll_tiny/resnet18_bn_step_20_delay@half_a01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_a01 > final_poll_tiny/resnet18_bn_step100_delay@half_a01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_a01 > final_poll_tiny/resnet18_bn_step500_delay@half_a01.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.1 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_delay@half_a01 > final_poll_tiny/resnet18_bn_step_2500_delay@half_a01.txt

#* alpha - 0.3
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_03 > final_poll_tiny/resnet18_bn_step1_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step_20_03 > final_poll_tiny/resnet18_bn_step_20_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step100_03 > final_poll_tiny/resnet18_bn_step100_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step500_03 > final_poll_tiny/resnet18_bn_step500_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_03 > final_poll_tiny/resnet18_bn_step_2500_03.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_03 > final_poll_tiny/resnet18_gn_step1_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step_20_03 > final_poll_tiny/resnet18_gn_step_20_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step100_03 > final_poll_tiny/resnet18_gn_step100_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_03 > final_poll_tiny/resnet18_gn_step500_03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step_2500_03 > final_poll_tiny/resnet18_gn_step_2500_03.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_a03 > final_poll_tiny/resnet18_bn_step1_delay@half_a03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --id final_poll_tiny/tensorboard/resnet18_bn_step_20_delay@half_a03 > final_poll_tiny/resnet18_bn_step_20_delay@half_a03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_a03 > final_poll_tiny/resnet18_bn_step100_delay@half_a03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_a03 > final_poll_tiny/resnet18_bn_step500_delay@half_a03.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.3 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_delay@half_a03 > final_poll_tiny/resnet18_bn_step_2500_delay@half_a03.txt

#* alpha = 0.6
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_06 > final_poll_tiny/resnet18_bn_step1_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step_20_06 > final_poll_tiny/resnet18_bn_step_20_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step100_06 > final_poll_tiny/resnet18_bn_step100_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step500_06 > final_poll_tiny/resnet18_bn_step500_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_06 > final_poll_tiny/resnet18_bn_step_2500_06.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_06 > final_poll_tiny/resnet18_gn_step1_06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step_20_06wd > final_poll_tiny/resnet18_gn_step_20_06wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step100_06wd > final_poll_tiny/resnet18_gn_step100_06wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_06wd > final_poll_tiny/resnet18_gn_step500_06wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step_2500_06wd > final_poll_tiny/resnet18_gn_step_2500_06wd.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_a06 > final_poll_tiny/resnet18_bn_step1_delay@half_a06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3200 --id final_poll_tiny/tensorboard/resnet18_bn_step_20_delay@half_a06 > final_poll_tiny/resnet18_bn_step_20_delay@half_a06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_a06 > final_poll_tiny/resnet18_bn_step100_delay@half_a06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_a06 > final_poll_tiny/resnet18_bn_step500_delay@half_a06.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 0.6 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_delay@half_a06 > final_poll_tiny/resnet18_bn_step_2500_delay@half_a06.txt

#* alpha = 100
# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_100 > final_poll_tiny/resnet18_bn_step1_100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step_20_100 > final_poll_tiny/resnet18_bn_step_20_100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step100_100 > final_poll_tiny/resnet18_bn_step100_100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --id final_poll_tiny/tensorboard/resnet18_bn_step500_100 > final_poll_tiny/resnet18_bn_step500_100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_100 > final_poll_tiny/resnet18_bn_step_2500_100.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 1 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_gn_step1_100wd > final_poll_tiny/resnet18_gn_step1_100wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step_20_100wd > final_poll_tiny/resnet18_gn_step_20_100wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step100_100wd > final_poll_tiny/resnet18_gn_step100_100wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --id final_poll_tiny/tensorboard/resnet18_gn_step500_100wd > final_poll_tiny/resnet18_gn_step500_100wd.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer GroupNorm --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_gn_step_2500_100wd > final_poll_tiny/resnet18_gn_step_2500_100wd.txt

# python3 main_fl_clean_step1.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 125440 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 62720 --log_every_round 400 --id final_poll_tiny/tensorboard/resnet18_bn_step1_delay@half_a100 > final_poll_tiny/resnet18_bn_step1_delay@half_a100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 20 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 6272 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 3200 --id final_poll_tiny/tensorboard/resnet18_bn_step_20_delay@half_a100 > final_poll_tiny/resnet18_bn_step_20_delay@half_a100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 100 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 1255 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 627 --id final_poll_tiny/tensorboard/resnet18_bn_step100_delay@half_a100 > final_poll_tiny/resnet18_bn_step100_delay@half_a100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 251 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 126 --id final_poll_tiny/tensorboard/resnet18_bn_step500_delay@half_a100 > final_poll_tiny/resnet18_bn_step500_delay@half_a100.txt
# python3 main_fl_clean.py --dataset tiny --data /fs/scratch/PAS2099/pfl_final/data_/data/tiny-imagenet-200 -a resnet18 --print-freq 100 --steps 2500 -b 20 --frac 0.5 --method dir --alpha 100 --rounds 64 --num_data 98000 --lr 0.02 --num_users 10 --norm_layer BatchNorm --freeze_bn_at_round 32 --log_every_round 1 --id final_poll_tiny/tensorboard/resnet18_bn_step_2500_delay@half_a100 > final_poll_tiny/resnet18_bn_step_2500_delay@half_a100.txt



#fix round
#shards
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_step_1_shards > final_poll_fix_round_2/DelayBN_noactivs_step_1_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_step_20_shards > final_poll_fix_round_2/DelayBN_noactivs_step_20_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_step_100_shards > final_poll_fix_round_2/DelayBN_noactivs_step_100_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_step_500_shards > final_poll_fix_round_2/DelayBN_noactivs_step_500_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_step_2500_shards > final_poll_fix_round_2/DelayBN_noactivs_step_2500_shards.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_step_1_shards > final_poll_fix_round_2/BN_noactivs_step_1_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_step_20_shards > final_poll_fix_round_2/BN_noactivs_step_20_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_step_100_shards > final_poll_fix_round_2/BN_noactivs_step_100_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_step_500_shards > final_poll_fix_round_2/BN_noactivs_step_500_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_step_2500_shards > final_poll_fix_round_2/BN_noactivs_step_2500_shards.txt

python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_step_1_shards > final_poll_fix_round_2/GN_noactivs_step_1_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_step_20_shards > final_poll_fix_round_2/GN_noactivs_step_20_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round_2/tensorboard/GN_noactivs_step_100_shards > final_poll_fix_round_2/GN_noactivs_step_100_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_step_500_shards > final_poll_fix_round_2/GN_noactivs_step_500_shards.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method step --alpha 0 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_step_2500_shards > final_poll_fix_round_2/GN_noactivs_step_2500_shards.txt

python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_1_0.1 > final_poll_fix_round_2/DelayBN_noactivs_dir_1_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_20_0.1 > final_poll_fix_round_2/DelayBN_noactivs_dir_20_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_100_0.1 > final_poll_fix_round_2/DelayBN_noactivs_dir_100_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_500_0.1 > final_poll_fix_round_2/DelayBN_noactivs_dir_500_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_2500_0.1 > final_poll_fix_round_2/DelayBN_noactivs_dir_2500_0.1.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_1_0.1 > final_poll_fix_round_2/BN_noactivs_dir_1_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_20_0.1 > final_poll_fix_round_2/BN_noactivs_dir_20_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_100_0.1 > final_poll_fix_round_2/BN_noactivs_dir_100_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_500_0.1 > final_poll_fix_round_2/BN_noactivs_dir_500_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_2500_0.1 > final_poll_fix_round_2/BN_noactivs_dir_2500_0.1.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_1_0.1 > final_poll_fix_round_2/GN_noactivs_dir_1_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_20_0.1 > final_poll_fix_round_2/GN_noactivs_dir_20_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_100_0.1 > final_poll_fix_round_2/GN_noactivs_dir_100_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_500_0.1 > final_poll_fix_round_2/GN_noactivs_dir_500_0.1.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.1 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_2500_0.1 > final_poll_fix_round_2/GN_noactivs_dir_2500_0.1.txt

python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_1_0.3 > final_poll_fix_round_2/DelayBN_noactivs_dir_1_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_20_0.3 > final_poll_fix_round_2/DelayBN_noactivs_dir_20_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_100_0.3 > final_poll_fix_round_2/DelayBN_noactivs_dir_100_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_500_0.3 > final_poll_fix_round_2/DelayBN_noactivs_dir_500_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_2500_0.3 > final_poll_fix_round_2/DelayBN_noactivs_dir_2500_0.3.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_1_0.3 > final_poll_fix_round_2/BN_noactivs_dir_1_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_20_0.3 > final_poll_fix_round_2/BN_noactivs_dir_20_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_100_0.3 > final_poll_fix_round_2/BN_noactivs_dir_100_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_500_0.3 > final_poll_fix_round_2/BN_noactivs_dir_500_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_2500_0.3 > final_poll_fix_round_2/BN_noactivs_dir_2500_0.3.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_1_0.3 > final_poll_fix_round_2/GN_noactivs_dir_1_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_20_0.3 > final_poll_fix_round_2/GN_noactivs_dir_20_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_100_0.3 > final_poll_fix_round_2/GN_noactivs_dir_100_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_500_0.3 > final_poll_fix_round_2/GN_noactivs_dir_500_0.3.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.3 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_2500_0.3 > final_poll_fix_round_2/GN_noactivs_dir_2500_0.3.txt

python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_1_0.6 > final_poll_fix_round_2/DelayBN_noactivs_dir_1_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_20_0.6 > final_poll_fix_round_2/DelayBN_noactivs_dir_20_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_100_0.6 > final_poll_fix_round_2/DelayBN_noactivs_dir_100_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_500_0.6 > final_poll_fix_round_2/DelayBN_noactivs_dir_500_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_2500_0.6 > final_poll_fix_round_2/DelayBN_noactivs_dir_2500_0.6.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_1_0.6 > final_poll_fix_round_2/BN_noactivs_dir_1_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_20_0.6 > final_poll_fix_round_2/BN_noactivs_dir_20_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_100_0.6 > final_poll_fix_round_2/BN_noactivs_dir_100_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_500_0.6 > final_poll_fix_round_2/BN_noactivs_dir_500_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_2500_0.6 > final_poll_fix_round_2/BN_noactivs_dir_2500_0.6.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_1_0.6 > final_poll_fix_round_2/GN_noactivs_dir_1_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_20_0.6 > final_poll_fix_round_2/GN_noactivs_dir_20_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_100_0.6 > final_poll_fix_round_2/GN_noactivs_dir_100_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_500_0.6 > final_poll_fix_round_2/GN_noactivs_dir_500_0.6.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 0.6 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_2500_0.6 > final_poll_fix_round_2/GN_noactivs_dir_2500_0.6.txt

python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_1_iid > final_poll_fix_round_2/DelayBN_noactivs_dir_1_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_20_iid > final_poll_fix_round_2/DelayBN_noactivs_dir_20_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_100_iid > final_poll_fix_round_2/DelayBN_noactivs_dir_100_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_500_iid > final_poll_fix_round_2/DelayBN_noactivs_dir_500_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --freeze_bn_at_round 64 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/DelayBN_noactivs_dir_2500_iid > final_poll_fix_round_2/DelayBN_noactivs_dir_2500_iid.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_1_iid > final_poll_fix_round_2/BN_noactivs_dir_1_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_20_iid > final_poll_fix_round_2/BN_noactivs_dir_20_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_100_iid > final_poll_fix_round_2/BN_noactivs_dir_100_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_500_iid > final_poll_fix_round_2/BN_noactivs_dir_500_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer BatchNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/BN_noactivs_dir_2500_iid > final_poll_fix_round_2/BN_noactivs_dir_2500_iid.txt
python3 main_fl_clean_step1.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 1  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.2 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_1_iid > final_poll_fix_round_2/GN_noactivs_dir_1_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 20  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_20_iid > final_poll_fix_round_2/GN_noactivs_dir_20_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 100  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1  --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_100_iid > final_poll_fix_round_2/GN_noactivs_dir_100_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_500_iid > final_poll_fix_round_2/GN_noactivs_dir_500_iid.txt
python3 main_fl_clean.py --dataset cifar10 -a resnet20 --print-freq 100 --steps 2500  -b 20 --frac 1 --method dir --alpha 100 --rounds 128 --num_data 49000 --lr 0.02 --num_users 5 --norm_layer GroupNorm --log_every_round 1 --id final_poll_fix_round_2/tensorboard/GN_noactivs_dir_2500_iid > final_poll_fix_round_2/GN_noactivs_dir_2500_iid.txt