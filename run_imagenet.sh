#!/bin/bash
#PBS -l walltime=80:15:00
#PBS -l nodes=1:ppn=2:gpus=1,mem=100GB
#PBS -A PAS2099
#PBS -N jike338
#PBS -j oe
#PBS -m be
#SBATCH --output=script1/R-%x.%j.out
module load python
module load cuda


cd /fs/ess/scratch/PAS2099/jike/DelayBN

# python3 main_fl.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 128 --frac 0.1 --alpha 0.3 --num_users 100 --rounds 300


# # python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --steps 100 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 1600 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step100_01 > imagenet_output/resnet18_bn_step100_01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 1 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step500_01 > imagenet_output/resnet18_bn_step500_01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step2500_01 > imagenet_output/resnet18_bn_step2500_01.txt

# # python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --steps 100 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 1600 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --probe_activs --id imagenet_output/tensorboard/resnet18_gn_step100_01 > imagenet_output/resnet18_gn_step100_01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 1 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --probe_activs --id imagenet_output/tensorboard/resnet18_gn_step500_01 > imagenet_output/resnet18_gn_step500_01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --probe_activs --id imagenet_output/tensorboard/resnet18_gn_step2500_01 > imagenet_output/resnet18_gn_step2500_01.txt

# # python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --steps 100 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 1600 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 600 --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step100_delay@600_a01 > imagenet_output/resnet18_bn_step100_delay@600_a01.txt
# # python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --steps 100 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 1600 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 1000 --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step100_delay@1000_a01 > imagenet_output/resnet18_bn_step100_delay@1000_a01.txt

# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 1 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 80 --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step500_delay@80_a01 > imagenet_output/resnet18_bn_step500_delay@80_a01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 1 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 160 --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step500_delay@160_a01 > imagenet_output/resnet18_bn_step500_delay@160_a01.txt
# python3 main_fl_clean.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 1 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 300 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 240 --probe_activs --id imagenet_output/tensorboard/resnet18_bn_step500_delay@240_a01 > imagenet_output/resnet18_bn_step500_delay@240_a01.txt


# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 40 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@40_01 > rebuttal_imagenet/resnet18_bn_step2500_delay@40_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 80 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@80_01_2 > rebuttal_imagenet/resnet18_bn_step2500_delay@80_01_2.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 125 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@125_01 > rebuttal_imagenet/resnet18_bn_step2500_delay@125_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 160 --log_every_round 10 --save_model --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@160_01_save_model > rebuttal_imagenet/resnet18_bn_step2500_delay@160_01_save_model.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_01 > rebuttal_imagenet/resnet18_bn_step2500_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_gn_step2500_01 > rebuttal_imagenet/resnet18_gn_step2500_01.txt

# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 40 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@40_shards > rebuttal_imagenet/resnet18_bn_step2500_delay@40_shards.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 80 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@80_shards > rebuttal_imagenet/resnet18_bn_step2500_delay@80_shards.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 125 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@125_shards > rebuttal_imagenet/resnet18_bn_step2500_delay@125_shards.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 160 --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_delay@160_shards > rebuttal_imagenet/resnet18_bn_step2500_delay@160_shards.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_bn_step2500_shards > rebuttal_imagenet/resnet18_bn_step2500_shards.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method step  --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet/tensorboard/resnet18_gn_step2500_shards > rebuttal_imagenet/resnet18_gn_step2500_shards.txt


# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 40 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@40_01_bs256 > rebuttal_imagenet2/resnet18_bn_step2500_delay@40_01_bs256.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 80 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@80_01_bs256 > rebuttal_imagenet2/resnet18_bn_step2500_delay@80_01_bs256.txt

# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 20 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@20_01 > rebuttal_imagenet2/resnet18_bn_step2500_delay@20_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 40 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@40_01 > rebuttal_imagenet2/resnet18_bn_step2500_delay@40_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 80 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@80_01 > rebuttal_imagenet2/resnet18_bn_step2500_delay@80_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 125 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@125_01 > rebuttal_imagenet2/resnet18_bn_step2500_delay@125_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 160 --log_every_round 10 --save_model --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@160_01_save_model > rebuttal_imagenet2/resnet18_bn_step2500_delay@160_01_save_model.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_01 > rebuttal_imagenet2/resnet18_bn_step2500_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_gn_step2500_01 > rebuttal_imagenet2/resnet18_gn_step2500_01.txt


# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 160 --log_every_round 10 --save_model --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@160_01_save_model > rebuttal_imagenet2/resnet18_bn_step2500_delay@160_01_save_model.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_01 > rebuttal_imagenet2/resnet18_bn_step2500_01.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_gn_step2500_01 > rebuttal_imagenet2/resnet18_gn_step2500_01.txt

# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 60 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@60_01_ep2_2 > rebuttal_imagenet2/resnet18_bn_step2500_delay@60_01_ep2_2.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 120 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@120_01_ep2_2 > rebuttal_imagenet2/resnet18_bn_step2500_delay@120_01_ep2_2.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --save_model --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_01_ep2_2 > rebuttal_imagenet2/resnet18_bn_step2500_01_ep2_2.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 20 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_gn_step2500_01_ep2_2 > rebuttal_imagenet2/resnet18_gn_step2500_01_ep2_2.txt 

# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 128 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 60 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@60_01_ep2_bs128 > rebuttal_imagenet2/resnet18_bn_step2500_delay@60_01_ep2_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 128 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 120 --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_delay@120_01_ep2_bs128 > rebuttal_imagenet2/resnet18_bn_step2500_delay@120_01_ep2_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 128 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --save_model --id rebuttal_imagenet2/tensorboard/resnet18_bn_step2500_01_ep2_bs128 > rebuttal_imagenet2/resnet18_bn_step2500_01_ep2_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 128 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id rebuttal_imagenet2/tensorboard/resnet18_gn_step2500_01_ep2_bs128 > rebuttal_imagenet2/resnet18_gn_step2500_01_ep2_bs128.txt


# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id nips/tensorboard/resnet18_gn_step2500_01_ep5_bs128 > nips/resnet18_gn_step2500_01_ep5_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id nips/tensorboard/resnet18_bn_step2500_01_ep5_bs128 > nips/resnet18_bn_step2500_01_ep5_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 5 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 60 --log_every_round 10 --id nips/tensorboard/resnet18_delayBN_step2500_01_ep5_bs128 > nips/resnet18_delayBN_step2500_01_ep5_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer GroupNorm --log_every_round 10 --id nips/tensorboard/resnet18_gn_step2500_01_ep2_bs128 > nips/resnet18_gn_step2500_01_ep2_bs128.txt
# python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --log_every_round 10 --id nips/tensorboard/resnet18_bn_step2500_01_ep2_bs128 > nips/resnet18_bn_step2500_01_ep2_bs128.txt
python3 main_fl_clean_old.py --dataset imagenet --data /fs/ess/PAS2099/data/imagenet -a resnet18 --print-freq 100 --local_epochs 2 -b 256 --frac 0.1 --method dir --alpha 0.1 --rounds 250 --num_data 1250000 --lr 0.1 --num_users 100 --norm_layer BatchNorm --freeze_bn_at_round 60 --log_every_round 10 --id nips/tensorboard/resnet18_delayBN_step2500_01_ep2_bs128 > nips/resnet18_delayBN_step2500_01_ep2_bs128.txt